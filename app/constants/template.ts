export const TEMPLATE_3D_BASIC_QUARTERVIEW = {
  'README.md': {
    type: 'file',
    content:
      "# React + TypeScript + Vite\n\nThis template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.\n\nCurrently, two official plugins are available:\n\n- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react/README.md) uses [Babel](https://babeljs.io/) for Fast Refresh\n- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh\n\n## Expanding the ESLint configuration\n\nIf you are developing a production application, we recommend updating the configuration to enable type-aware lint rules:\n\n```js\nexport default tseslint.config({\n  extends: [\n    // Remove ...tseslint.configs.recommended and replace with this\n    ...tseslint.configs.recommendedTypeChecked,\n    // Alternatively, use this for stricter rules\n    ...tseslint.configs.strictTypeChecked,\n    // Optionally, add this for stylistic rules\n    ...tseslint.configs.stylisticTypeChecked,\n  ],\n  languageOptions: {\n    // other options...\n    parserOptions: {\n      project: ['./tsconfig.node.json', './tsconfig.app.json'],\n      tsconfigRootDir: import.meta.dirname,\n    },\n  },\n})\n```\n\nYou can also install [eslint-plugin-react-x](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-x) and [eslint-plugin-react-dom](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-dom) for React-specific lint rules:\n\n```js\n// eslint.config.js\nimport reactX from 'eslint-plugin-react-x'\nimport reactDom from 'eslint-plugin-react-dom'\n\nexport default tseslint.config({\n  plugins: {\n    // Add the react-x and react-dom plugins\n    'react-x': reactX,\n    'react-dom': reactDom,\n  },\n  rules: {\n    // other rules...\n    // Enable its recommended typescript rules\n    ...reactX.configs['recommended-typescript'].rules,\n    ...reactDom.configs.recommended.rules,\n  },\n})\n```\n",
    isBinary: false,
  },
  'PROJECT.md': {
    type: 'file',
    content:
      "# 3D Quarter View Game\n\n## Project Summary\n\nThis project is a 3D game where players control a character from a quarter view perspective. The game features character animations, physics-based movement, and a 3D environment. Players can control the character using keyboard to perform various actions (idle, running, jumping, attacking, etc.). This project is intended for single-player gameplay with an emphasis on character control and animation.\n\n## Implementation Strategy\n\nThis game uses a **Three.js-based 3D approach**:\n\n- React Three Fiber for 3D rendering in a React environment\n- @react-three/rapier for physics simulation\n- vibe-starter-3d library for character rendering and animation\n- Quarter view camera setup providing an angled top-down view of the game world\n\nKey technologies:\n\n- Three.js - 3D rendering\n- React Three Fiber - React integration\n- @react-three/rapier - Physics simulation\n- @react-three/drei - Useful Three.js helpers\n- vibe-starter-3d (v0.4.0) - Advanced character rendering, animation, and physics integration\n- Tailwind CSS - UI composition\n- Zustand - State management\n\n## Core Features\n\n- **Advanced Character System**: Comprehensive character rendering with physics-based rigid body integration\n- **Animation Management**: Complete animation system supporting idle, run, sprint, jump, punch, kick, normal_attack, cast, and other character states\n- **Physics Integration**: Full physics simulation with collision detection and rigid body object type definitions\n- **Quarter View Camera**: Fixed quarter-view perspective with character following for optimal gameplay experience\n- **Interactive Controls**: Keyboard-based navigation (WASD for movement, QERF for actions) with mouse interaction support\n- **Visual Environment**: Interactive ground plane with environmental collision detection and debugging grid overlay\n- **State Management**: Robust character state transitions and player reference tracking for multiplayer readiness\n- **Asset Management**: Comprehensive preloading system with progress indication for smooth gameplay\n- **3D Rendering**: High-quality 3D model rendering with smooth animation transitions\n- **Environmental Lighting**: Dynamic lighting system with follow light for enhanced visual experience\n\n## File Structure Overview\n\n#### `src/main.tsx`\n\n- Entry point for the application.\n- Sets up React rendering and mounts the `App` component.\n\n#### `src/App.tsx`\n\n- Main application component.\n- Configures the overall layout and includes the `GameScene` component.\n- Manages loading state and switches between `PreloadScene` and `GameScene`.\n\n### `src/App.css`\n\n- Defines the main styles for the `App` component and its child UI elements.\n\n### `src/index.css`\n\n- Defines global base styles, Tailwind CSS directives, fonts, etc., applied throughout the application.\n\n#### `src/assets.json`\n\n- File for managing asset metadata. Includes character model and animation information.\n\n### `src/constants/`\n\n- Directory defining constant values used throughout the application.\n  - **`controls.ts`**: Defines settings that map keyboard inputs (WASD, arrow keys, etc.) to corresponding actions (movement, jump, etc.).\n  - **`character.ts`**: Defines character-related constants (animation states, speed, etc.).\n  - **`rigidBodyObjectType.ts`**: Defines physics object types for collision detection and interaction systems.\n\n### `src/stores/`\n\n- Directory containing state management stores using Zustand.\n  - **`gameStore.ts`**: Store that manages the overall game state. Tracks and controls the readiness state of the map physics system (`isMapPhysicsReady`). This state is used to determine physics simulation pause/resume and loading screen display.\n  - **`localPlayerStore.ts`**: Store that manages the local player's state, such as position tracking.\n  - **`multiPlayerStore.ts`**: Store that manages multiple connected players' rigid body references for multiplayer functionality, including registration, unregistration, and retrieval of player references.\n  - **`playerActionStore.ts`**: Store that manages player action states including combat actions (punch, kick, meleeAttack, cast) with support for setting, getting, and resetting action states.\n\n### `src/components/`\n\n- Directory managing React components categorized by function.\n\n  - **`r3f/`**: Contains 3D components related to React Three Fiber.\n\n    - **`Experience.tsx`**: Main component responsible for the primary 3D scene configuration. Includes lighting `ambientLight`, environmental elements `Environment`, the `Player` component, and the floor `Floor`. It renders the core visual and interactive elements within the physics simulation configured in `GameScene.tsx`.\n    - **`Floor.tsx`**: Component defining and visually representing the ground plane in the 3D space. Has physical properties.\n    - **`GameSceneCanvas.tsx`**: React Three Fiber Canvas component that renders the 3D game world with physics simulation and controller setup.\n    - **`MapPhysicsReadyChecker.tsx`**: Component that checks if the map physics system is ready by performing raycasting from above downward to detect map geometry and ensures physics interactions are properly initialized before gameplay begins. Performs checks every frame until valid map geometry is detected, with a timeout after 180 frames to prevent infinite checking. Excludes Capsule shapes (likely characters/objects) and sensor colliders from the inspection.\n    - **`Player.tsx`**: Advanced player component integrating RigidBodyPlayer with CharacterRenderer for comprehensive character management, physics interactions, and animation state management with collision detection capabilities.\n\n  - **`scene/`**: Contains components related to scene setup.\n\n    - **`GameScene.tsx`**: Main game scene component that serves as a layout container arranging the game UI and 3D Canvas. Contains critical performance warnings and guidelines to prevent re-rendering issues. Includes the `GameSceneCanvas` and `GameSceneUI` components in a proper layered structure where the Canvas renders the 3D world and UI components render as overlays.\n    - **`PreloadScene.tsx`**: Manages asset preloading before the game starts. Loads all assets defined in assets.json (models, textures, etc.) and displays a loading progress bar. Ensures all assets are loaded before the game begins.\n\n  - **`ui/`**: Contains UI components for the game interface.\n    - **`GameSceneUI.tsx`**: Component that manages UI overlays for the game scene.\n    - **`LoadingScreen.tsx`**: Loading screen component displayed during game loading.\n    - **`InputController.tsx`**: Manages all input handling including keyboard, mouse, and touch controls with virtual joystick support for mobile devices and action buttons for combat actions (punch, kick, cast) and movement controls.\n\n### Key Libraries & Components from External Sources\n\n- **`vibe-starter-3d`**: A library providing foundational 3D game components and utilities.\n  - **`QuarterViewController`**: Wraps the player character and manages quarter view navigation by implementing a character controller with physics. It handles character movement, rotation, and camera following with a fixed quarter-view perspective.\n  - **`CharacterRenderer`**: Renders 3D character models with animations from glTF/GLB files. Manages animation states and transitions based on player actions.\n  - **`useControllerState`**: A React hook that provides control state management for the character, including:\n    - `setEnableInput`: Function to enable/disable player input controls\n    - `rigidBody`: Reference to the physics body for the character\n  - **`useMouseControls`**: A React hook that provides access to mouse input state (left/right buttons and positions).\n\n### Quarter View System Implementation\n\nThe quarter view control system is implemented through a combination of components:\n\n1. **Controller System**: `QuarterViewController` from the vibe-starter-3d library handles the physics-based movement of the character based on keyboard inputs, maintaining a fixed camera angle that provides the quarter view perspective with character following.\n\n2. **Input Management**: Keyboard inputs are captured through React Three Fiber's `useKeyboardControls` hook, which maps WASD/arrow keys to movement, and additional keys (Q/E/R/F) to character actions, with mouse controls for additional interactions.\n\n3. **State Management**: `useControllerState` hook provides shared state between components, allowing different parts of the application to access and modify the character's state. Additionally, `playerStore` manages physics body references for multiplayer support.\n\n4. **Animation Management**: `Player` component with `RigidBodyPlayer` integration determines appropriate animations based on movement and action states, transitioning between idle, walking, running, and action animations as needed, with full collision detection capabilities.\n\n5. **Asset Management**: `PreloadScene` component ensures all 3D models, textures, and other assets are preloaded before gameplay begins, providing a smooth user experience with a visual loading indicator.\n",
    isBinary: false,
  },
  'package.json': {
    type: 'file',
    content:
      '{\n  "name": "quarterview",\n  "private": true,\n  "version": "0.0.0",\n  "type": "module",\n  "scripts": {\n    "dev": "vite",\n    "build": "vite build",\n    "lint": "eslint .",\n    "preview": "vite preview"\n  },\n  "dependencies": {\n    "@agent8/gameserver": "^1.5.3",\n    "vibe-starter-3d": "^0.8.18",\n    "@react-three/drei": "9.122.0",\n    "@react-three/fiber": "8.18.0",\n    "@react-three/postprocessing": "2.19.1",\n    "@react-three/rapier": "1.5.0",\n    "@dimforge/rapier3d-compat": "0.14.0",\n    "nipplejs": "0.10.2",\n    "lucide-react": "0.482.0",\n    "react": "18.3.1",\n    "react-dom": "18.3.1",\n    "three": "0.174.0",\n    "three-stdlib": "2.35.14",\n    "zustand": "5.0.3"\n  },\n  "devDependencies": {\n    "@types/react": "^18.3.1",\n    "@types/react-dom": "^18.3.1",\n    "@types/three": "^0.174.0",\n    "@vitejs/plugin-react": "^4.3.4",\n    "autoprefixer": "^10.4.21",\n    "globals": "^16.0.0",\n    "tailwindcss": "^3.4.1",\n    "typescript": "~5.8.2",\n    "vite": "^6.2.2"\n  }\n}\n',
    isBinary: false,
  },
  'index.html': {
    type: 'file',
    content:
      '<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <link rel="icon" type="image/svg+xml" href="/vite.svg" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Vite + React + TS</title>\n    <style>\n      body {\n        margin: 0;\n        padding: 0;\n        font-family: Arial, sans-serif;\n      }\n      .loading-container {\n        position: fixed;\n        inset: 0;\n        z-index: 50;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        background-color: black;\n        color: white;\n      }\n      .loading-title {\n        font-size: 1.5rem;\n        font-weight: bold;\n        margin-bottom: 1rem;\n      }\n      .spinner {\n        width: 30px;\n        height: 30px;\n        border: 3px solid rgba(255, 255, 255, 0.3);\n        border-radius: 50%;\n        border-top-color: white;\n        animation: spin 1s ease-in-out infinite;\n      }\n      @keyframes spin {\n        to {\n          transform: rotate(360deg);\n        }\n      }\n    </style>\n    <script>\n      (function () {\n        function reportGameSize() {\n          const height = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);\n\n          const width = Math.max(document.body.scrollWidth, document.documentElement.scrollWidth);\n\n          window.parent.postMessage(\n            {\n              type: \'GAME_SIZE_RESPONSE\',\n              height: height,\n              width: width,\n            },\n            \'*\',\n          );\n        }\n\n        window.addEventListener(\'load\', reportGameSize);\n\n        window.addEventListener(\'resize\', reportGameSize);\n\n        window.addEventListener(\'message\', function (event) {\n          if (event.data && event.data.type === \'REQUEST_GAME_SIZE\') {\n            reportGameSize();\n          }\n        });\n      })();\n    </script>\n  </head>\n  <body>\n    <div id="root">\n      <div class="loading-container">\n        <h2 class="loading-title">Loading</h2>\n        <div class="spinner"></div>\n      </div>\n    </div>\n    <script type="module" src="/src/main.tsx"></script>\n  </body>\n</html>\n',
    isBinary: false,
  },
  '.gitignore': {
    type: 'file',
    content:
      '# Logs\nlogs\n*.log\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\npnpm-debug.log*\nlerna-debug.log*\n\nnode_modules\ndist\ndist-ssr\n*.local\n\n# Editor directories and files\n.vscode/*\n!.vscode/extensions.json\n.idea\n.DS_Store\n*.suo\n*.ntvs*\n*.njsproj\n*.sln\n*.sw?\n',
    isBinary: false,
  },
  'postcss.config.js': {
    type: 'file',
    content: 'export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n};\n',
    isBinary: false,
  },
  'tailwind.config.js': {
    type: 'file',
    content:
      '/** @type {import(\'tailwindcss\').Config} */\nexport default {\n  content: ["./index.html", "./src/**/*.{js,ts,jsx,tsx}"],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n};\n',
    isBinary: false,
  },
  'tsconfig.app.json': {
    type: 'file',
    content:
      '{\n  "compilerOptions": {\n    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.app.tsbuildinfo",\n    "target": "ES2020",\n    "useDefineForClassFields": true,\n    "lib": ["ES2020", "DOM", "DOM.Iterable"],\n    "module": "ESNext",\n    "skipLibCheck": true,\n\n    /* Bundler mode */\n    "moduleResolution": "bundler",\n    "allowImportingTsExtensions": true,\n    "isolatedModules": true,\n    "moduleDetection": "force",\n    "noEmit": true,\n    "jsx": "react-jsx",\n\n    /* Linting */\n    "strict": false,\n    "noUnusedLocals": false,\n    "noUnusedParameters": false,\n    "noFallthroughCasesInSwitch": false,\n    "noUncheckedSideEffectImports": false\n  },\n  "include": ["src"]\n}\n',
    isBinary: false,
  },
  'tsconfig.json': {
    type: 'file',
    content:
      '{\n  "files": [],\n  "references": [\n    { "path": "./tsconfig.app.json" },\n    { "path": "./tsconfig.node.json" }\n  ]\n}\n',
    isBinary: false,
  },
  'tsconfig.node.json': {
    type: 'file',
    content:
      '{\n  "compilerOptions": {\n    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.node.tsbuildinfo",\n    "target": "ES2022",\n    "lib": ["ES2023"],\n    "module": "ESNext",\n    "skipLibCheck": true,\n\n    /* Bundler mode */\n    "moduleResolution": "bundler",\n    "allowImportingTsExtensions": true,\n    "isolatedModules": true,\n    "moduleDetection": "force",\n    "noEmit": true,\n\n    /* Linting */\n    "strict": false,\n    "noUnusedLocals": false,\n    "noUnusedParameters": false,\n    "noFallthroughCasesInSwitch": false,\n    "noUncheckedSideEffectImports": false\n  },\n  "include": ["vite.config.ts"]\n}\n',
    isBinary: false,
  },
  'public/vite.svg': {
    type: 'file',
    content:
      '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>',
    isBinary: false,
  },
  'vite.config.ts': {
    type: 'file',
    content:
      'import { defineConfig } from "vite";\nimport react from "@vitejs/plugin-react";\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [react()],\n  optimizeDeps: {\n    exclude: ["lucide-react"],\n  },\n  base: "./",\n  build: {\n    outDir: "dist",\n  },\n});\n',
    isBinary: false,
  },
  'docs/project-3d-rules.md': {
    type: 'file',
    content:
      "# 3D Project Development Rules\n\n## Guideline for Using `RigidBodyObject`\n\nWhen implementing physics interactions, it is mandatory to use the `RigidBodyObject` component from the `vibe-starter-3d` package instead of the standard `RigidBody` from `@react-three/rapier`.\n\nThe primary reason for this is to simplify event handling for collisions and intersections. Using the standard `RigidBody` component requires managing a complex set of events (`onCollisionEnter`, `onCollisionExit`, `onIntersectionEnter`, `onIntersectionExit`).\n\nIn contrast, `RigidBodyObject` abstracts this complexity. It allows you to handle all physics-based interactions uniformly through just two simple trigger events: `onTriggerEnter` and `onTriggerExit`. This makes the interaction logic significantly cleaner and easier to manage.\n\n## Canvas Component Structure Rules\n\n**Core Requirement:** Components that render HTML tags (e.g., `<div>`, `<button>`) must NEVER be placed inside React Three Fiber's `<Canvas>` component.\n\n**Reasoning:**\nThis is a core architectural rule. Placing standard HTML inside the `<Canvas>` WebGL context will cause rendering errors.\n\n**Implementation Guidelines:**\n\n- **UI Components:** Components using HTML tags belong in the `src/components/ui/` directory. They must be rendered as an overlay, outside the `<Canvas>`.\n- **3D Components:** Only Three.js-related components, located in `src/components/r3f/`, should be placed inside the `<Canvas>`.\n\n**Correct Structure Example:**\n\n```tsx\n// ‚úÖ Correct approach\n<div>\n  {/* The 3D scene is rendered inside the Canvas */}\n  <Canvas>\n    <Player />\n    <Floor />\n  </Canvas>\n\n  {/* UI components are rendered as overlays outside the Canvas */}\n  <Crosshair />\n  <LoadingScreen />\n</div>\n```\n\n**Incorrect Structure Example:**\n\n```tsx\n// ‚ùå Incorrect approach\n<Canvas>\n  <Player />\n  {/* This is forbidden, as Crosshair renders HTML */}\n  <Crosshair />\n</Canvas>\n```\n",
    isBinary: false,
  },
  'src/App.tsx': {
    type: 'file',
    content:
      "import React, { useState } from 'react';\nimport './App.css';\nimport GameScene from './components/scene/GameScene';\nimport PreloadScene from './components/scene/PreloadScene';\n\nconst App: React.FC = () => {\n  const [isLoading, setIsLoading] = useState(true);\n\n  const handleLoadingComplete = () => {\n    setIsLoading(false);\n  };\n\n  return <div style={{ width: '100vw', height: '100vh' }}>{isLoading ? <PreloadScene onComplete={handleLoadingComplete} /> : <GameScene />}</div>;\n};\n\nexport default App;\n",
    isBinary: false,
  },
  'src/App.css': {
    type: 'file',
    content: '#root {\n  margin: 0 auto;\n  text-align: center;\n}\n',
    isBinary: false,
  },
  'src/assets.json': {
    type: 'file',
    content:
      '{\n  "characters": {\n    "base-model": {\n      "url": "https://agent8-games.verse8.io/assets/3d/characters/realistic style/base-model.glb"\n    }\n  },\n  "animations": {\n    "idle": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/idle.glb",\n      "description": "Idle"\n    },\n    "idle-00": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/idle-00.glb",\n      "description": "Idle 00"\n    },\n    "idle-01": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/idle-01.glb",\n      "description": "Idle 01"\n    },\n    "rifle-idle": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/rifle-idle.glb",\n      "description": "Rifle idle"\n    },\n    "pistol-idle": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/pistol-idle.glb",\n      "description": "Pistol idle"\n    },\n    "walk": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/walk.glb",\n      "description": "Walk"\n    },\n    "run-medium": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/run-medium.glb",\n      "description": "Run Medium"\n    },\n    "run-fast": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/run-fast.glb",\n      "description": "Run Fast"\n    },\n    "rifle-run": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/rifle-run.glb",\n      "description": "Rifle Run"\n    },\n    "pistol-run": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/pistol-run.glb",\n      "description": "Pistol Run"\n    },\n    "jump": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/jump.glb",\n      "description": "Jump"\n    },\n    "swim": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/swim.glb",\n      "description": "Swim"\n    },\n    "punch-00": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/punch-00.glb",\n      "description": "Punch 00"\n    },\n    "punch-01": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/punch-01.glb",\n      "description": "Punch 01"\n    },\n    "kick-00": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/kick-00.glb",\n      "description": "Kick 00"\n    },\n    "kick-01": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/kick-01.glb",\n      "description": "Kick 01"\n    },\n    "kick-02": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/kick-02.glb",\n      "description": "Kick 02"\n    },\n    "melee-attack": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/melee-attack.glb",\n      "description": "Melee Attack"\n    },\n    "cast": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/cast.glb",\n      "description": "Cast"\n    },\n    "dance-locking": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/dance-locking.glb",\n      "description": "Dance Locking"\n    },\n    "dance-wave": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/dance-wave.glb",\n      "description": "Dance Wave"\n    },\n    "death-backward": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/death-backward.glb",\n      "description": "Death Backward"\n    },\n    "death-foward": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/death-foward.glb",\n      "description": "Death Foward"\n    },\n    "hit-to-body": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/hit-to-body.glb",\n      "description": "Hit to Body"\n    }\n  }\n}\n',
    isBinary: false,
  },
  'src/index.css': {
    type: 'file',
    content: '@tailwind base;\n@tailwind components;\n@tailwind utilities;\n',
    isBinary: false,
  },
  'src/main.tsx': {
    type: 'file',
    content:
      "import { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport './index.css';\nimport App from './App.tsx';\n\ncreateRoot(document.getElementById('root')!).render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n);\n",
    isBinary: false,
  },
  'src/vite-env.d.ts': {
    type: 'file',
    content: '/// <reference types="vite/client" />\n',
    isBinary: false,
  },
  'src/constants/character.ts': {
    type: 'file',
    content:
      "import { AnimationType } from 'vibe-starter-3d';\n\nexport const CharacterState: { [key: string]: AnimationType } = {\n  /** IDLE ACTION */\n  IDLE: 'IDLE',\n  /** IDLE ACTION */\n  IDLE_01: 'IDLE_01',\n  /** WALKING ACTION */\n  WALK: 'WALK',\n  /** RUNNING ACTION */\n  RUN: 'RUN',\n  /** SPRINTING ACTION */\n  FAST_RUN: 'FAST_RUN',\n  /** JUMP ACTION */\n  JUMP: 'JUMP',\n  /** PUNCH ACTION */\n  PUNCH: 'PUNCH',\n  /** PUNCH ACTION */\n  PUNCH_01: 'PUNCH_01',\n  /** KICK ACTION */\n  KICK: 'KICK',\n  /** KICK ACTION */\n  KICK_01: 'KICK_01',\n  /** KICK ACTION */\n  KICK_02: 'KICK_02',\n  /** MELEE ATTACK ACTION */\n  MELEE_ATTACK: 'MELEE_ATTACK',\n  /** CAST ACTION */\n  CAST: 'CAST',\n  /** HIT ACTION */\n  HIT: 'HIT',\n  /** DIE ACTION */\n  DIE: 'DIE',\n};\n\nexport type CharacterState = (typeof CharacterState)[keyof typeof CharacterState];\n",
    isBinary: false,
  },
  'src/constants/rigidBodyObjectType.ts': {
    type: 'file',
    content:
      "export const RigidBodyObjectType = {\n  /** Local Player */\n  LOCAL_PLAYER: 'LOCAL_PLAYER',\n  /** Enemy */\n  ENEMY: 'ENEMY',\n  /** Monster */\n  MONSTER: 'MONSTER',\n  /** Wall */\n  WALL: 'WALL',\n  /** Obstacle */\n  OBSTACLE: 'OBSTACLE',\n  /** Item */\n  ITEM: 'ITEM',\n  /** Bullet */\n  BULLET: 'BULLET',\n  /** Floor */\n  FLOOR: 'FLOOR',\n  /** Floating board */\n  PLOTTING_BOARD: 'PLOTTING_BOARD',\n} as const;\n",
    isBinary: false,
  },
  'src/stores/gameStore.ts': {
    type: 'file',
    content:
      "import { create } from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\n\ninterface GameStore {\n  isMapPhysicsReady: boolean;\n  setMapPhysicsReady: (ready: boolean) => void;\n}\n\nexport const useGameStore = create<GameStore>()(\n  subscribeWithSelector((set) => ({\n    isMapPhysicsReady: false,\n    setMapPhysicsReady: (ready: boolean) => set({ isMapPhysicsReady: ready }),\n  })),\n);\n",
    isBinary: false,
  },
  'src/stores/localPlayerStore.ts': {
    type: 'file',
    content:
      "import { create } from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\nimport * as THREE from 'three';\n\ntype PlayerState = {\n  position: THREE.Vector3;\n  speed: number;\n};\n\ntype LocalPlayerState = {\n  state: PlayerState;\n  setSpeed: (speed: number) => void;\n  setPosition: (x: number, y: number, z: number) => void;\n  clearPosition: () => void;\n};\n\nexport const useLocalPlayerStore = create<LocalPlayerState>()(\n  subscribeWithSelector((_, get) => ({\n    state: {\n      position: new THREE.Vector3(0, 0, 0),\n      speed: 0,\n    },\n\n    setSpeed: (speed: number) => {\n      get().state.speed = speed;\n    },\n\n    setPosition: (x: number, y: number, z: number) => {\n      const state = get().state;\n      state.position.x = x;\n      state.position.y = y;\n      state.position.z = z;\n    },\n\n    clearPosition: () => {\n      const state = get().state;\n      state.position.x = 0;\n      state.position.y = 0;\n      state.position.z = 0;\n    },\n  })),\n);\n",
    isBinary: false,
  },
  'src/stores/playerActionStore.ts': {
    type: 'file',
    content:
      'interface PlayerActionState {\n  punch: boolean;\n  kick: boolean;\n  meleeAttack: boolean;\n  cast: boolean;\n}\n\ninterface PlayerActionStore extends PlayerActionState {\n  setPlayerAction: (action: string, pressed: boolean) => void;\n  getPlayerAction: (action: string) => boolean;\n  resetAllPlayerActions: () => void;\n}\n\nconst playerActionStore: PlayerActionStore = {\n  punch: false,\n  kick: false,\n  meleeAttack: false,\n  cast: false,\n\n  setPlayerAction: (action: string, pressed: boolean) => {\n    (playerActionStore as any)[action] = pressed;\n  },\n\n  getPlayerAction: (action: string): boolean => {\n    return (playerActionStore as any)[action];\n  },\n\n  resetAllPlayerActions: () => {\n    playerActionStore.punch = false;\n    playerActionStore.kick = false;\n    playerActionStore.meleeAttack = false;\n    playerActionStore.cast = false;\n  },\n};\n\nexport const usePlayerActionStore = () => playerActionStore;',
    isBinary: false,
  },
  'src/stores/multiPlayerStore.ts': {
    type: 'file',
    content:
      "import { create } from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\nimport React from 'react';\nimport { RigidBody } from '@dimforge/rapier3d-compat';\n\ntype MultiPlayerRigidBodyState = {\n  connectedPlayerRefs: Record<string, React.RefObject<RigidBody>>;\n  registerConnectedPlayer: (account: string, rigidBodyRef: React.RefObject<RigidBody>) => void;\n  unregisterConnectedPlayer: (account: string) => void;\n  getConnectedPlayerRef: (account: string) => React.RefObject<RigidBody> | undefined;\n  getAllConnectedPlayerRefs: () => Record<string, React.RefObject<RigidBody>>;\n  getConnectedPlayerCount: () => number;\n};\n\nexport const useMultiPlayerStore = create<MultiPlayerRigidBodyState>()(\n  subscribeWithSelector((set, get) => ({\n    connectedPlayerRefs: {},\n\n    registerConnectedPlayer: (account: string, rigidBodyRef: React.RefObject<RigidBody>) => {\n      set((state) => ({\n        connectedPlayerRefs: {\n          ...state.connectedPlayerRefs,\n          [account]: rigidBodyRef,\n        },\n      }));\n    },\n\n    unregisterConnectedPlayer: (account: string) => {\n      set((state) => {\n        const newConnectedPlayerRefs = { ...state.connectedPlayerRefs };\n        delete newConnectedPlayerRefs[account];\n        return { connectedPlayerRefs: newConnectedPlayerRefs };\n      });\n    },\n\n    getConnectedPlayerRef: (account: string) => {\n      return get().connectedPlayerRefs[account];\n    },\n\n    getAllConnectedPlayerRefs: () => {\n      return get().connectedPlayerRefs;\n    },\n\n    getConnectedPlayerCount: () => {\n      return Object.keys(get().connectedPlayerRefs).length;\n    },\n  })),\n);\n",
    isBinary: false,
  },
  'src/components/r3f/Experience.tsx': {
    type: 'file',
    content:
      "import { Environment } from '@react-three/drei';\nimport Player from './Player';\nimport Floor from './Floor';\n\nconst Experience = () => {\n  return (\n    <>\n      <ambientLight intensity={0.7} />\n      <Environment preset=\"sunset\" background={false} />\n      <Player />\n      <Floor />\n    </>\n  );\n};\n\nexport default Experience;\n",
    isBinary: false,
  },
  'src/components/r3f/Floor.tsx': {
    type: 'file',
    content:
      'import { RigidBody } from \'@react-three/rapier\';\n\nconst Floor = () => {\n  return (\n    <>\n      <RigidBody type="fixed" colliders={\'cuboid\'}>\n        <mesh receiveShadow position={[0, 0, 0]} rotation-x={-Math.PI / 2}>\n          <planeGeometry args={[100, 100]} />\n          <meshStandardMaterial color="#3f3f3f" />\n        </mesh>\n      </RigidBody>\n    </>\n  );\n};\n\nexport default Floor;\n',
    isBinary: false,
  },
  'src/components/r3f/GameSceneCanvas.tsx': {
    type: 'file',
    content:
      "import React, { Suspense } from 'react';\nimport { Canvas } from '@react-three/fiber';\nimport { Physics } from '@react-three/rapier';\nimport Experience from '../r3f/Experience';\nimport { FollowLight, QuarterViewController } from 'vibe-starter-3d';\nimport { useGameStore } from '../../stores/gameStore';\nimport MapPhysicsReadyChecker from '../r3f/MapPhysicsReadyChecker';\n\n/**\n * Game Scene Canvas Component\n *\n * This component is responsible for rendering the entire 3D game world using React Three Fiber.\n * It serves as the root container for all 3D elements, physics simulation, and game interactions.\n */\nconst GameSceneCanvas = () => {\n  // ‚ö†Ô∏è MUST CHECK: Map physics system ready state\n  // Physics paused and loading screen displayed while this value is false\n  const { isMapPhysicsReady } = useGameStore();\n\n  return (\n    <>\n      {/* ‚ö†Ô∏è DO NOT DELETE: Core Canvas component for React Three Fiber */}\n      <Canvas shadows>\n        <Physics paused={!isMapPhysicsReady}>\n          <Suspense fallback={null}>\n            {/* ‚ö†Ô∏è MUST INCLUDE: Essential checker for map physics initialization */}\n            {!isMapPhysicsReady && <MapPhysicsReadyChecker />}\n            <FollowLight offset={[60, 100, 30]} intensity={2} />\n            <QuarterViewController followCharacter={true} />\n            <Experience />\n          </Suspense>\n        </Physics>\n      </Canvas>\n    </>\n  );\n};\n\nexport default GameSceneCanvas;\n",
    isBinary: false,
  },
  'src/components/r3f/MapPhysicsReadyChecker.tsx': {
    type: 'file',
    content:
      "import { useFrame } from '@react-three/fiber';\nimport { useRapier } from '@react-three/rapier';\nimport { useRef } from 'react';\nimport * as THREE from 'three';\nimport { useGameStore } from '../../stores/gameStore';\n\n/**\n * Component that checks if the map physics is ready by performing raycasting.\n * Casts a ray downward from above to detect map geometry and ensures physics\n * interactions are properly initialized before gameplay begins.\n *\n * - Performs checks every frame until map physics is confirmed ready\n * - Times out after 60 frames as fallback to prevent infinite checking\n * - Excludes Capsule shapes (likely characters/objects) and sensor colliders\n * - Sets mapPhysicsReady to true once valid map geometry is detected\n */\nfunction MapPhysicsReadyChecker() {\n  const { isMapPhysicsReady, setMapPhysicsReady } = useGameStore();\n  const physicsCheckCount = useRef(0);\n  const { rapier, world } = useRapier();\n\n  useFrame(() => {\n    if (isMapPhysicsReady) return;\n\n    physicsCheckCount.current++;\n    if (physicsCheckCount.current > 180) {\n      setMapPhysicsReady(true);\n      return;\n    }\n\n    const origin = new THREE.Vector3(0, 50, 0);\n    const downDirection = new THREE.Vector3(0, -1, 0);\n    const ray = new rapier.Ray(origin, downDirection);\n\n    // Get all intersections and find the first non-sensor collider\n    const intersections: any[] = [];\n    world.propagateModifiedBodyPositionsToColliders();\n    world.updateSceneQueries();\n    world.intersectionsWithRay(ray, 100, true, (intersection) => {\n      // Exclude Capsule shapes as they are unlikely to be map colliders\n      if (intersection.collider.shape.type === rapier.ShapeType.Capsule) {\n        return true;\n      }\n      intersections.push(intersection);\n      return true; // continue searching\n    });\n\n    // Find the first non-sensor collider\n    const validHit = intersections.find((intersection) => !intersection.collider.isSensor());\n    if (!validHit) return;\n\n    console.log('%c[vibe-starter-3d]%c Map physics initialized.', 'color: #7159c1; font-weight: bold', 'color: inherit;');\n    setMapPhysicsReady(true);\n  });\n\n  return null;\n}\n\nexport default MapPhysicsReadyChecker;\n",
    isBinary: false,
  },
  'src/components/r3f/Player.tsx': {
    type: 'file',
    content:
      "import React, { useRef, useEffect, useCallback } from 'react';\nimport { useFrame, Vector3 } from '@react-three/fiber';\nimport { CollisionPayload } from '@react-three/rapier';\nimport { useGameServer } from '@agent8/gameserver';\n\nimport { useLocalPlayerStore } from '../../stores/localPlayerStore';\nimport { useMultiPlayerStore } from '../../stores/multiPlayerStore';\n\nimport { CharacterState } from '../../constants/character';\nimport { RigidBodyObjectType } from '../../constants/rigidBodyObjectType';\n\nimport Assets from '../../assets.json';\nimport {\n  AnimationConfigMap,\n  AnimationType,\n  CharacterMovementState,\n  CharacterRenderer,\n  RigidBodyPlayer,\n  RigidBodyPlayerRef,\n  useCharacterAnimation,\n  useControllerStore,\n} from 'vibe-starter-3d';\nimport { usePlayerActionStore } from '../../stores/playerActionStore';\n\nconst targetHeight = 1.6;\n\n// States that can be interrupted by actions\nconst INTERRUPTIBLE_STATES = [\n  CharacterState.IDLE,\n  CharacterState.IDLE_01,\n  CharacterState.WALK,\n  CharacterState.RUN,\n  CharacterState.FAST_RUN,\n  CharacterState.JUMP,\n] as const;\n\n// Animation configuration map moved outside component for better performance\nconst animationConfigMap: AnimationConfigMap = {\n  [CharacterState.IDLE]: {\n    url: Assets.animations['idle-00'].url,\n    loop: true,\n  },\n  [CharacterState.IDLE_01]: {\n    url: Assets.animations['idle-01'].url,\n    loop: true,\n  },\n  [CharacterState.WALK]: {\n    url: Assets.animations['walk'].url,\n    loop: true,\n  },\n  [CharacterState.RUN]: {\n    url: Assets.animations['run-medium'].url,\n    loop: true,\n  },\n  [CharacterState.FAST_RUN]: {\n    url: Assets.animations['run-fast'].url,\n    loop: true,\n  },\n  [CharacterState.JUMP]: {\n    url: Assets.animations['jump'].url,\n    loop: true,\n    clampWhenFinished: true,\n  },\n  [CharacterState.PUNCH]: {\n    url: Assets.animations['punch-00'].url,\n    loop: false,\n    duration: 0.5,\n    clampWhenFinished: true,\n  },\n  [CharacterState.PUNCH_01]: {\n    url: Assets.animations['punch-01'].url,\n    loop: false,\n    duration: 0.5,\n    clampWhenFinished: true,\n  },\n  [CharacterState.KICK]: {\n    url: Assets.animations['kick-00'].url,\n    loop: false,\n    duration: 0.75,\n    clampWhenFinished: true,\n  },\n  [CharacterState.KICK_01]: {\n    url: Assets.animations['kick-01'].url,\n    loop: false,\n    duration: 1,\n    clampWhenFinished: true,\n  },\n  [CharacterState.KICK_02]: {\n    url: Assets.animations['kick-02'].url,\n    loop: false,\n    duration: 1,\n    clampWhenFinished: true,\n  },\n  [CharacterState.MELEE_ATTACK]: {\n    url: Assets.animations['melee-attack'].url,\n    loop: false,\n    duration: 1,\n    clampWhenFinished: true,\n  },\n  [CharacterState.CAST]: {\n    url: Assets.animations['cast'].url,\n    loop: false,\n    duration: 1,\n    clampWhenFinished: true,\n  },\n  [CharacterState.HIT]: {\n    url: Assets.animations['hit-to-body'].url,\n    loop: false,\n    clampWhenFinished: false,\n  },\n  [CharacterState.DANCE]: {\n    url: Assets.animations['dance-wave'].url,\n    loop: false,\n    clampWhenFinished: false,\n  },\n  [CharacterState.SWIM]: {\n    url: Assets.animations['swim'].url,\n    loop: true,\n  },\n  [CharacterState.DIE]: {\n    url: Assets.animations['death-backward'].url,\n    loop: false,\n    clampWhenFinished: true,\n  },\n};\n\n/**\n * Player props\n */\ninterface PlayerProps {\n  /** Initial position of the player */\n  position?: Vector3;\n}\n\n/**\n * Player component that manages character model and animations\n *\n * Handles player state management and delegates rendering to CharacterRenderer.\n * Movement states come from ControllerStore, actions are handled locally.\n */\nconst Player = ({ position }: PlayerProps) => {\n  const { account } = useGameServer();\n  const { registerConnectedPlayer, unregisterConnectedPlayer } = useMultiPlayerStore();\n  const { setPosition: setLocalPlayerPosition } = useLocalPlayerStore();\n  const { getPlayerAction } = usePlayerActionStore();\n\n  // Use the new useCharacterAnimation hook\n  const { animationState, setAnimation, getAnimation } = useCharacterAnimation<CharacterState>(CharacterState.IDLE);\n\n  // Get movement state from controller store (unified API)\n  const { getCharacterMovementState, isControlLocked, lockControls, unlockControls } = useControllerStore();\n\n  // IMPORTANT: rigidBodyPlayerRef.current type is RigidBody\n  const rigidBodyPlayerRef = useRef<RigidBodyPlayerRef>(null);\n\n  // IMPORTANT: Register connected player reference\n  useEffect(() => {\n    if (!account) return;\n\n    registerConnectedPlayer(account, rigidBodyPlayerRef);\n\n    return () => {\n      unregisterConnectedPlayer(account);\n    };\n  }, [account, registerConnectedPlayer, unregisterConnectedPlayer]);\n\n  // IMPORTANT: Update local player store position information\n  useFrame(() => {\n    const playerRigidBody = rigidBodyPlayerRef.current;\n    if (!playerRigidBody) return;\n\n    const position = playerRigidBody.translation();\n    setLocalPlayerPosition(position.x, position.y, position.z);\n  });\n\n  // Helper functions\n  const canInterrupt = useCallback((state: CharacterState): boolean => {\n    return INTERRUPTIBLE_STATES.includes(state);\n  }, []);\n\n  // Convert ControllerStore state to Player animation state\n  const toCharacterState = useCallback((characterMovementState: CharacterMovementState): CharacterState => {\n    switch (characterMovementState) {\n      case CharacterMovementState.IDLE:\n        return CharacterState.IDLE;\n      case CharacterMovementState.WALKING:\n        return CharacterState.WALK;\n      case CharacterMovementState.RUN:\n        return CharacterState.RUN;\n      case CharacterMovementState.FAST_RUN:\n        return CharacterState.FAST_RUN;\n      case CharacterMovementState.AIRBORNE:\n        return CharacterState.JUMP;\n      default:\n        return CharacterState.IDLE;\n    }\n  }, []);\n\n  // Callback triggered when a non-looping animation finishes.\n  const handleAnimationComplete = useCallback(\n    (type: AnimationType) => {\n      unlockControls();\n      switch (type) {\n        case CharacterState.PUNCH:\n        case CharacterState.PUNCH_01:\n          setAnimation(CharacterState.IDLE_01);\n          break;\n        case CharacterState.KICK:\n        case CharacterState.KICK_01:\n        case CharacterState.KICK_02:\n          setAnimation(CharacterState.IDLE_01);\n          break;\n        case CharacterState.CAST:\n          setAnimation(CharacterState.IDLE_01);\n          break;\n        case CharacterState.HIT:\n          setAnimation(CharacterState.IDLE_01);\n          break;\n        case CharacterState.MELEE_ATTACK:\n          setAnimation(CharacterState.IDLE_01);\n          break;\n        case CharacterState.DANCE:\n          setAnimation(CharacterState.IDLE);\n          break;\n        default:\n          break;\n      }\n    },\n    [unlockControls, setAnimation],\n  );\n\n  const updatePlayerState = useCallback((): void => {\n    const currentState = getAnimation();\n\n    // If controls are locked, don't process actions\n    if (isControlLocked()) {\n      return;\n    }\n\n    // Handle death and revive states\n    // TODO: Connect with actual game state\n    // const isRevive = playerHealth > 0 && currentState === CharacterState.DIE;\n    // const isDying = playerHealth <= 0 && currentState !== CharacterState.DIE;\n\n    // Currently using placeholder false values\n    const isRevive = false;\n    const isDying = false;\n\n    // Revive handling: when health is restored while in death state\n    if (isRevive) {\n      setAnimation(CharacterState.IDLE);\n      return;\n    }\n\n    // Death handling: when health drops to 0 or below\n    if (isDying) {\n      setAnimation(CharacterState.DIE);\n      return;\n    }\n\n    // Handle action states (punch, kick, etc.) - highest priority\n    if (getPlayerAction('punch') && canInterrupt(currentState)) {\n      setAnimation(CharacterState.PUNCH);\n      lockControls();\n      return;\n    }\n\n    if (getPlayerAction('kick') && canInterrupt(currentState)) {\n      setAnimation(CharacterState.KICK);\n      lockControls();\n      return;\n    }\n\n    if (getPlayerAction('meleeAttack') && canInterrupt(currentState)) {\n      setAnimation(CharacterState.MELEE_ATTACK);\n      lockControls();\n      return;\n    }\n\n    if (getPlayerAction('cast') && canInterrupt(currentState)) {\n      setAnimation(CharacterState.CAST);\n      lockControls();\n      return;\n    }\n\n    // For movement states, use ControllerStore state\n    if (canInterrupt(currentState)) {\n      const characterMovementState = getCharacterMovementState();\n      const characterState = toCharacterState(characterMovementState);\n      setAnimation(characterState);\n    }\n  }, [isControlLocked, canInterrupt, lockControls, getCharacterMovementState, toCharacterState, getAnimation, setAnimation, getPlayerAction]);\n\n  // Update player action state based on inputs and physics\n  useFrame(() => {\n    if (!rigidBodyPlayerRef.current) return;\n    updatePlayerState();\n  });\n\n  /** handleTriggerEnter: Called when the player intersects or collides with another object.\n   * - Handles when entering a specific area or colliding with another object\n   */\n  const handleTriggerEnter = (payload: CollisionPayload) => {\n    if (payload.other.rigidBody?.userData?.['type']) {\n      // TODO: Handle when entering a specific area or colliding with another object\n    }\n  };\n\n  /** handleTriggerExit: Called when the player exits an intersection or ends a collision with another object.\n   * - Handles when exiting a specific area or when collision with another object ends\n   */\n  const handleTriggerExit = (payload: CollisionPayload) => {\n    if (payload.other.rigidBody?.userData?.['type']) {\n      // TODO: Handle when exiting a specific area or when collision with another object ends\n    }\n  };\n\n  return (\n    <RigidBodyPlayer\n      ref={rigidBodyPlayerRef}\n      userData={{ account, type: RigidBodyObjectType.LOCAL_PLAYER }}\n      position={position}\n      targetHeight={targetHeight}\n      onTriggerEnter={handleTriggerEnter}\n      onTriggerExit={handleTriggerExit}\n    >\n      <CharacterRenderer\n        url={Assets.characters['base-model'].url}\n        animationConfigMap={animationConfigMap}\n        animationState={animationState}\n        targetHeight={targetHeight}\n        onAnimationComplete={handleAnimationComplete}\n      />\n    </RigidBodyPlayer>\n  );\n};\n\nexport default Player;\n",
    isBinary: false,
  },
  'src/components/scene/GameScene.tsx': {
    type: 'file',
    content:
      "import GameSceneCanvas from '../r3f/GameSceneCanvas';\nimport GameSceneUI from '../ui/GameSceneUI';\n\n/**\n * Main Game Scene Component\n *\n * This component serves as a layout container that arranges the game UI and 3D Canvas.\n *\n * üö® CRITICAL PERFORMANCE WARNING:\n * Re-rendering of this component triggers re-rendering of the entire 3D Canvas, causing severe performance degradation.\n *\n * Prohibited Actions:\n * - Using state management hooks like useState, useReducer\n * - Passing frequently changing values as props\n * - State updates inside useEffect\n * - Conditional rendering that changes component structure\n * - Creating inline objects/functions (e.g., style={{...}}, onClick={() => {}})\n *\n * Recommendations:\n * - Handle state management in child components (GameSceneUI, GameSceneCanvas)\n * - Access global state directly through zustand store or similar\n * - Memoize event handlers with useCallback before use\n */\nconst GameScene = () => {\n  return (\n    <div className=\"relative w-full h-screen\">\n      <GameSceneUI />\n      <GameSceneCanvas />\n    </div>\n  );\n};\n\nexport default GameScene;\n",
    isBinary: false,
  },
  'src/components/scene/PreloadScene.tsx': {
    type: 'file',
    content:
      "import React, { useEffect, useState } from 'react';\nimport assets from '../../assets.json';\nimport * as THREE from 'three';\nimport { GLTF, GLTFLoader } from 'three-stdlib';\nimport { TextureLoader } from 'three';\n\ninterface PreloadSceneProps {\n  onComplete: () => void;\n}\n\n// Type definition to accept any structure in assets.json\ntype AssetCategory = Record<string, { url: string; [key: string]: unknown }>;\n\n// Type for the different possible loaded asset types\ntype LoadedAsset = GLTF | THREE.Texture | HTMLAudioElement | HTMLVideoElement | Response | null;\n\n/**\n * Asset Preloading Scene Component\n *\n * Preloads all assets defined in assets.json regardless of type\n * (models, animations, textures, etc.) and calls the onComplete callback when loading is finished.\n */\nconst PreloadScene: React.FC<PreloadSceneProps> = ({ onComplete }) => {\n  const [progress, setProgress] = useState(0);\n  const [isComplete, setIsComplete] = useState(false);\n\n  useEffect(() => {\n    const preloadAssets = async () => {\n      try {\n        // Collect all asset URLs from every category in assets.json\n        const allUrls: string[] = [];\n\n        // Get all categories from assets.json (characters, animations, textures, etc.)\n        const categories = Object.keys(assets);\n\n        // Loop through each category and collect URLs\n        categories.forEach((category) => {\n          const assetCategory = assets[category as keyof typeof assets] as AssetCategory;\n          if (assetCategory && typeof assetCategory === 'object') {\n            const categoryUrls = Object.values(assetCategory)\n              .filter((item) => item && typeof item === 'object' && 'url' in item)\n              .map((item) => item.url);\n\n            allUrls.push(...categoryUrls);\n          }\n        });\n\n        console.log(`Found ${allUrls.length} assets to preload`);\n\n        // Setup loading manager for all assets\n        const loadingManager = new THREE.LoadingManager();\n\n        // Set up loading manager event handlers\n        loadingManager.onProgress = (url, itemsLoaded, itemsTotal) => {\n          const currentProgress = Math.floor((itemsLoaded / itemsTotal) * 100);\n          console.log(`Loading progress: ${currentProgress}% (${url})`);\n          setProgress(currentProgress);\n        };\n\n        loadingManager.onLoad = () => {\n          console.log('All assets preloaded successfully');\n          setProgress(100);\n          setIsComplete(true);\n        };\n\n        loadingManager.onError = (url) => {\n          console.error(`Loading error: ${url}`);\n        };\n\n        // Create a Promise for each asset to load with appropriate loader\n        const loadPromises = allUrls.map((url) => {\n          // Determine file type from extension\n          const fileExtension = url.split('.').pop()?.toLowerCase();\n\n          return new Promise<LoadedAsset>((resolve) => {\n            // Choose appropriate loader based on file extension\n            if (fileExtension === 'glb' || fileExtension === 'gltf') {\n              // Use GLTFLoader for 3D models and animations\n              const loader = new GLTFLoader(loadingManager);\n              loader.load(\n                url,\n                (gltf) => {\n                  console.log(`Loaded model: ${url}`);\n                  resolve(gltf);\n                },\n                undefined,\n                (error) => {\n                  console.error(`Failed to load model: ${url}`, error);\n                  resolve(null);\n                },\n              );\n            } else if (['jpg', 'jpeg', 'png', 'webp'].includes(fileExtension || '')) {\n              // Use TextureLoader for image textures\n              const loader = new TextureLoader(loadingManager);\n              loader.load(\n                url,\n                (texture) => {\n                  console.log(`Loaded texture: ${url}`);\n                  resolve(texture);\n                },\n                undefined,\n                (error) => {\n                  console.error(`Failed to load texture: ${url}`, error);\n                  resolve(null);\n                },\n              );\n            } else if (['mp3', 'wav', 'ogg'].includes(fileExtension || '')) {\n              // For audio files, preload with audio element\n              const audio = new Audio();\n              audio.src = url;\n\n              audio.addEventListener('canplaythrough', () => {\n                console.log(`Loaded audio: ${url}`);\n                resolve(audio);\n              });\n\n              audio.addEventListener('error', () => {\n                console.error(`Failed to load audio: ${url}`);\n                resolve(null);\n              });\n\n              // Force preloading\n              audio.load();\n            } else if (['mp4', 'webm'].includes(fileExtension || '')) {\n              // For video files\n              const video = document.createElement('video');\n              video.src = url;\n              video.preload = 'auto';\n\n              video.addEventListener('canplaythrough', () => {\n                console.log(`Loaded video: ${url}`);\n                resolve(video);\n              });\n\n              video.addEventListener('error', () => {\n                console.error(`Failed to load video: ${url}`);\n                resolve(null);\n              });\n\n              // Force preloading\n              video.load();\n            } else {\n              // For other file types, use a simple fetch to ensure it's in browser cache\n              fetch(url)\n                .then((response) => {\n                  if (!response.ok) throw new Error(`Failed to load: ${url}`);\n                  console.log(`Loaded other: ${url}`);\n                  return resolve(response);\n                })\n                .catch((error) => {\n                  console.error(`Failed to load: ${url}`, error);\n                  resolve(null);\n                });\n            }\n          });\n        });\n\n        // Wait for all loading tasks to complete\n        await Promise.all(loadPromises);\n      } catch (error) {\n        console.error('Error during asset preloading:', error);\n      }\n    };\n\n    preloadAssets();\n  }, []);\n\n  // Call onComplete callback when loading is finished\n  useEffect(() => {\n    if (isComplete) {\n      onComplete();\n    }\n  }, [isComplete, onComplete]);\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black text-white\">\n      <h2 className=\"text-2xl font-bold mb-4\">Loading</h2>\n      <div className=\"w-64 h-2 bg-gray-700 rounded-full overflow-hidden\">\n        <div className=\"h-full bg-blue-500 transition-all duration-300\" style={{ width: `${Math.max(0, Math.min(100, progress))}%` }} />\n      </div>\n      <p className=\"mt-2\">{progress}%</p>\n    </div>\n  );\n};\n\nexport default PreloadScene;\n",
    isBinary: false,
  },
  'src/components/ui/InputController.tsx': {
    type: 'file',
    content:
      "import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport * as THREE from 'three';\nimport { IS_MOBILE, useInputStore } from 'vibe-starter-3d';\nimport { usePlayerActionStore } from '../../stores/playerActionStore';\nimport nipplejs from 'nipplejs';\n\n/**\n * Key mapping configuration - simple Record<string, string[]>\n */\ntype KeyMapping = Record<string, string[]>; // action: [key1, key2, ...]\n\n/**\n * Controller key mapping\n */\nconst CONTROL_KEY_MAPPING: KeyMapping = {\n  forward: ['KeyW', 'ArrowUp'],\n  backward: ['KeyS', 'ArrowDown'],\n  leftward: ['KeyA', 'ArrowLeft'],\n  rightward: ['KeyD', 'ArrowRight'],\n  jump: ['Space'],\n  run: ['ShiftLeft', 'ShiftRight'],\n};\n\n/**\n * Player action key mapping\n */\nconst ACTION_KEY_MAPPING: KeyMapping = {\n  punch: ['KeyF', 'Mouse0'],\n  kick: ['KeyG', 'Mouse2'],\n  meleeAttack: ['KeyQ', 'KeyC'],\n  cast: ['KeyE', 'Mouse1'],\n};\n\n// Movement speed constants\nconst MOVEMENT_SPEED_WALK = 0.6;\nconst MOVEMENT_SPEED_RUN_BOOST = 0.4;\nconst MOVEMENT_SPEED_MAX = 1.0;\nconst JOYSTICK_RANGE_MULTIPLIER = 2.0; // Converts joystick range (0~0.5) to full range (0~1.0)\n\ninterface InputControllerProps {\n  disabled?: boolean;\n  disableKeyboard?: boolean;\n  disableJoystick?: boolean;\n}\n\nexport const InputController: React.FC<InputControllerProps> = ({ disabled = false, disableKeyboard = false, disableJoystick = false }) => {\n  // Store actions to controller\n  const { setMovementInput, setActionInput, resetAllInputs, setActiveInputSource } = useInputStore();\n  const { setPlayerAction, resetAllPlayerActions } = usePlayerActionStore();\n\n  // Button states\n  const [isJumpPressed, setIsJumpPressed] = useState(false);\n  const [isAttackPressed, setIsAttackPressed] = useState(false);\n\n  // Keyboard state tracking\n  const keyboardStateRef = useRef({\n    forward: false,\n    backward: false,\n    leftward: false,\n    rightward: false,\n    run: false,\n  });\n\n  // Helper function to calculate movement from keyboard state\n  const calculateKeyboardMovement = useCallback(() => {\n    const state = keyboardStateRef.current;\n\n    // Calculate direction\n    const x = (state.leftward ? 1 : 0) + (state.rightward ? -1 : 0);\n    const y = (state.forward ? 1 : 0) + (state.backward ? -1 : 0);\n\n    // Use Three.js Vector2 for efficient normalization\n    const direction = new THREE.Vector2(x, y);\n    const magnitude = direction.length();\n\n    // Normalize diagonal movement\n    if (magnitude > 0) {\n      direction.normalize();\n    }\n\n    // Calculate intensity: base speed + run boost\n    const baseIntensity = magnitude > 0 ? MOVEMENT_SPEED_WALK : 0; // Base walking speed\n    const runBoost = state.run ? MOVEMENT_SPEED_RUN_BOOST : 0; // Additional speed when running\n    const intensity = Math.min(baseIntensity + runBoost, MOVEMENT_SPEED_MAX);\n\n    return {\n      direction: { x: direction.x, y: direction.y },\n      intensity,\n    };\n  }, []);\n\n  // Joystick input handling with analog support\n  useEffect(() => {\n    if (disabled || disableJoystick || !IS_MOBILE) return;\n\n    // Create div element for left side area of screen\n    const joystickZone = document.createElement('div');\n    joystickZone.style.position = 'fixed';\n    joystickZone.style.left = '0';\n    joystickZone.style.top = '0';\n    joystickZone.style.width = '50%'; // Left 50% of screen\n    joystickZone.style.height = '100%';\n    joystickZone.style.zIndex = '1000';\n    joystickZone.style.pointerEvents = 'auto';\n    joystickZone.style.backgroundColor = 'transparent';\n    // Disable long touch events\n    joystickZone.style.touchAction = 'none';\n    joystickZone.style.userSelect = 'none';\n    joystickZone.style.setProperty('-webkit-user-select', 'none');\n    joystickZone.style.setProperty('-webkit-touch-callout', 'none');\n    document.body.appendChild(joystickZone);\n\n    const options: nipplejs.JoystickManagerOptions = {\n      zone: joystickZone,\n      color: 'white',\n      mode: 'dynamic',\n      shape: 'circle',\n    };\n\n    const manager = nipplejs.create(options);\n\n    manager.on('move', (evt, data) => {\n      if (disabled || disableJoystick) return; // Check disabled state\n      setActiveInputSource('joystick');\n\n      // Extract analog data from nipplejs\n      const angle = data.angle?.radian || 0; // Angle in radians\n      const distance = data.distance || 0; // Distance from center\n      const maxDistance = data.instance.options.size || 100; // Maximum distance\n\n      // Calculate normalized direction vector\n      // nipplejs uses mathematical coordinate system (0¬∞ = right, 90¬∞ = up)\n      // We need to convert to game coordinate system (0¬∞ = up, 90¬∞ = right)\n      const gameAngle = angle - Math.PI / 2; // Rotate by -90 degrees\n      const directionX = Math.sin(gameAngle); // Right/Left\n      const directionY = Math.cos(gameAngle); // Forward/Backward\n\n      // Calculate intensity (0.0 to 1.0) based on distance from center\n      const intensity = Math.min((distance / maxDistance) * JOYSTICK_RANGE_MULTIPLIER, MOVEMENT_SPEED_MAX);\n\n      // Set analog movement input\n      setMovementInput({ x: directionX, y: directionY }, intensity, 'joystick');\n    });\n\n    manager.on('end', () => {\n      if (disabled || disableJoystick) return; // Check disabled state\n      // Reset all inputs when joystick ends\n      setMovementInput({ x: 0, y: 0 }, 0, 'joystick');\n    });\n\n    return () => {\n      manager.destroy();\n      if (joystickZone.parentNode) {\n        joystickZone.parentNode.removeChild(joystickZone);\n      }\n    };\n  }, [disabled, disableJoystick, setMovementInput, setActiveInputSource]);\n\n  // Keyboard input handling - convert to movement immediately\n  useEffect(() => {\n    if (disabled || disableKeyboard) return;\n\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (disabled || disableKeyboard) return; // Additional check in handler\n      let stateChanged = false;\n\n      // Handle movement keys\n      if (CONTROL_KEY_MAPPING['forward']?.includes(event.code) && !keyboardStateRef.current.forward) {\n        keyboardStateRef.current.forward = true;\n        stateChanged = true;\n      }\n      if (CONTROL_KEY_MAPPING['backward']?.includes(event.code) && !keyboardStateRef.current.backward) {\n        keyboardStateRef.current.backward = true;\n        stateChanged = true;\n      }\n      if (CONTROL_KEY_MAPPING['leftward']?.includes(event.code) && !keyboardStateRef.current.leftward) {\n        keyboardStateRef.current.leftward = true;\n        stateChanged = true;\n      }\n      if (CONTROL_KEY_MAPPING['rightward']?.includes(event.code) && !keyboardStateRef.current.rightward) {\n        keyboardStateRef.current.rightward = true;\n        stateChanged = true;\n      }\n      if (CONTROL_KEY_MAPPING['run']?.includes(event.code) && !keyboardStateRef.current.run) {\n        keyboardStateRef.current.run = true;\n        stateChanged = true;\n      }\n\n      // Handle action keys\n      if (CONTROL_KEY_MAPPING['jump']?.includes(event.code)) {\n        setActionInput('jump', true, 'keyboard');\n      }\n\n      // Handle player action keys\n      Object.keys(ACTION_KEY_MAPPING).forEach((action) => {\n        if (ACTION_KEY_MAPPING[action]?.includes(event.code)) {\n          setPlayerAction(action, true);\n        }\n      });\n\n      // Update movement if any movement-related key changed\n      if (stateChanged) {\n        const movement = calculateKeyboardMovement();\n        setMovementInput(movement.direction, movement.intensity, 'keyboard');\n      }\n    };\n\n    const handleKeyUp = (event: KeyboardEvent) => {\n      if (disabled || disableKeyboard) return; // Additional check in handler\n      let stateChanged = false;\n\n      // Handle movement keys\n      if (CONTROL_KEY_MAPPING['forward']?.includes(event.code) && keyboardStateRef.current.forward) {\n        keyboardStateRef.current.forward = false;\n        stateChanged = true;\n      }\n      if (CONTROL_KEY_MAPPING['backward']?.includes(event.code) && keyboardStateRef.current.backward) {\n        keyboardStateRef.current.backward = false;\n        stateChanged = true;\n      }\n      if (CONTROL_KEY_MAPPING['leftward']?.includes(event.code) && keyboardStateRef.current.leftward) {\n        keyboardStateRef.current.leftward = false;\n        stateChanged = true;\n      }\n      if (CONTROL_KEY_MAPPING['rightward']?.includes(event.code) && keyboardStateRef.current.rightward) {\n        keyboardStateRef.current.rightward = false;\n        stateChanged = true;\n      }\n      if (CONTROL_KEY_MAPPING['run']?.includes(event.code) && keyboardStateRef.current.run) {\n        keyboardStateRef.current.run = false;\n        stateChanged = true;\n      }\n\n      // Handle action keys\n      if (CONTROL_KEY_MAPPING['jump']?.includes(event.code)) {\n        setActionInput('jump', false, 'keyboard');\n      }\n\n      // Handle player action keys\n      Object.keys(ACTION_KEY_MAPPING).forEach((action) => {\n        if (ACTION_KEY_MAPPING[action]?.includes(event.code)) {\n          setPlayerAction(action, false);\n        }\n      });\n\n      // Update movement if any movement-related key changed\n      if (stateChanged) {\n        const movement = calculateKeyboardMovement();\n        setMovementInput(movement.direction, movement.intensity, 'keyboard');\n      }\n    };\n\n    const handleMouseDown = (event: MouseEvent) => {\n      if (disabled || disableKeyboard) return; // Additional check in handler\n\n      // Handle player action mouse keys\n      const mouseButton = `Mouse${event.button}`;\n      Object.keys(ACTION_KEY_MAPPING).forEach((action) => {\n        if (ACTION_KEY_MAPPING[action]?.includes(mouseButton)) {\n          setPlayerAction(action, true);\n        }\n      });\n    };\n\n    const handleMouseUp = (event: MouseEvent) => {\n      if (disabled || disableKeyboard) return; // Additional check in handler\n\n      // Handle player action mouse keys\n      const mouseButton = `Mouse${event.button}`;\n      Object.keys(ACTION_KEY_MAPPING).forEach((action) => {\n        if (ACTION_KEY_MAPPING[action]?.includes(mouseButton)) {\n          setPlayerAction(action, false);\n        }\n      });\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    document.addEventListener('keyup', handleKeyUp);\n    document.addEventListener('mousedown', handleMouseDown);\n    document.addEventListener('mouseup', handleMouseUp);\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.removeEventListener('keyup', handleKeyUp);\n      document.removeEventListener('mousedown', handleMouseDown);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [disabled, disableKeyboard, setMovementInput, setActionInput, setPlayerAction, calculateKeyboardMovement]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      resetAllInputs();\n      resetAllPlayerActions();\n    };\n  }, [resetAllInputs, resetAllPlayerActions]);\n\n  // Reset inputs when disabled\n  useEffect(() => {\n    if (disabled || disableKeyboard || disableJoystick) {\n      // Reset keyboard state if keyboard is disabled\n      if (disabled || disableKeyboard) {\n        keyboardStateRef.current = {\n          forward: false,\n          backward: false,\n          leftward: false,\n          rightward: false,\n          run: false,\n        };\n      }\n      // Reset button states\n      setIsJumpPressed(false);\n      setIsAttackPressed(false);\n      resetAllInputs();\n      resetAllPlayerActions();\n    }\n  }, [disabled, disableKeyboard, disableJoystick, resetAllInputs, resetAllPlayerActions]);\n\n  // Button handlers\n  const handleJumpStart = useCallback(\n    (event: React.MouseEvent | React.TouchEvent) => {\n      if (disabled) return;\n      event.preventDefault();\n      event.stopPropagation(); // Prevent event propagation\n      setIsJumpPressed(true);\n      setActionInput('jump', true, 'touch');\n    },\n    [disabled, setActionInput],\n  );\n\n  const handleJumpEnd = useCallback(\n    (event: React.MouseEvent | React.TouchEvent) => {\n      if (disabled) return;\n      event.preventDefault();\n      event.stopPropagation(); // Prevent event propagation\n      setIsJumpPressed(false);\n      setActionInput('jump', false, 'touch');\n    },\n    [disabled, setActionInput],\n  );\n\n  const handleAttackStart = useCallback(\n    (event: React.MouseEvent | React.TouchEvent) => {\n      if (disabled) return;\n      event.preventDefault();\n      event.stopPropagation();\n      setIsAttackPressed(true);\n      // NOTE: change to other action if needed\n      setPlayerAction('punch', true);\n    },\n    [disabled, setPlayerAction],\n  );\n\n  const handleAttackEnd = useCallback(\n    (event: React.MouseEvent | React.TouchEvent) => {\n      if (disabled) return;\n      event.preventDefault();\n      event.stopPropagation();\n      setIsAttackPressed(false);\n      // NOTE: change to other action if needed\n      setPlayerAction('punch', false);\n    },\n    [disabled, setPlayerAction],\n  );\n\n  // Don't render action buttons if joystick is disabled\n  if (disableJoystick) {\n    return null;\n  }\n\n  // Render action buttons\n  return (\n    <div className=\"fixed bottom-8 right-8 z-[1001]\">\n      {/* Attack Button */}\n      <div\n        className={`w-20 h-20 rounded-full bg-white/30 \n                   flex items-center justify-center cursor-pointer select-none touch-none\n                   ${isAttackPressed ? 'scale-90' : 'scale-100'} transition-transform`}\n        onMouseDown={handleAttackStart}\n        onMouseUp={handleAttackEnd}\n        onMouseLeave={handleAttackEnd}\n        onTouchStart={handleAttackStart}\n        onTouchEnd={handleAttackEnd}\n      >\n        <span className=\"text-white text-xs font-bold\">ATTACK</span>\n      </div>\n\n      {/* Jump Button */}\n      <div\n        className={`absolute bottom-0 -left-12 -top-12 w-14 h-14 rounded-full bg-white/30 \n                   flex items-center justify-center cursor-pointer select-none touch-none\n                   ${isJumpPressed ? 'scale-90' : 'scale-100'} transition-transform`}\n        onMouseDown={handleJumpStart}\n        onMouseUp={handleJumpEnd}\n        onMouseLeave={handleJumpEnd}\n        onTouchStart={handleJumpStart}\n        onTouchEnd={handleJumpEnd}\n      >\n        <span className=\"text-white text-xs font-bold\">JUMP</span>\n      </div>\n    </div>\n  );\n};\n",
    isBinary: false,
  },
  'src/components/ui/GameSceneUI.tsx': {
    type: 'file',
    content:
      "import { useGameStore } from '../../stores/gameStore';\nimport { InputController } from './InputController';\nimport LoadingScreen from './LoadingScreen';\n\n/**\n * Game Scene UI Component\n *\n * This component manages UI overlays for the game scene.\n * It handles loading states and displays appropriate UI elements based on game state.\n */\nconst GameSceneUI = () => {\n  // ‚ö†Ô∏è MUST CHECK: Map physics system ready state\n  // Physics paused and loading screen displayed while this value is false\n  const { isMapPhysicsReady } = useGameStore();\n\n  return (\n    <>\n      {/* Input Controller - Global input management (keyboard, touch) */}\n      <InputController disableJoystick={false} disableKeyboard={false} disabled={!isMapPhysicsReady} />\n      {/* Loading Game Scene screen overlay */}\n      {!isMapPhysicsReady && <LoadingScreen />}\n    </>\n  );\n};\n\nexport default GameSceneUI;\n",
    isBinary: false,
  },
  'src/components/ui/LoadingScreen.tsx': {
    type: 'file',
    content:
      "import { useThree } from '@react-three/fiber';\nimport { Html } from '@react-three/drei';\n\n/**\n * Loading screen component\n */\nconst LoadingScreen = () => {\n  let isInThreeCanvas: boolean;\n  try {\n    useThree();\n    isInThreeCanvas = true;\n  } catch {\n    isInThreeCanvas = false;\n  }\n\n  const loadingContent = (\n    <div>\n      <style>{`\n        .loading-container {\n          inset: 0;\n          z-index: 50;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          background-color: black;\n          color: white;\n          width: 100%;\n          height: 100%;\n        }\n        .loading-title {\n          font-size: 1.5rem;\n          font-weight: bold;\n          margin-bottom: 1rem;\n        }\n        .spinner {\n          width: 30px;\n          height: 30px;\n          border: 3px solid rgba(255, 255, 255, 0.3);\n          border-radius: 50%;\n          border-top-color: white;\n          animation: spin 1s ease-in-out infinite;\n        }\n        @keyframes spin {\n          to {\n            transform: rotate(360deg);\n          }\n        }\n      `}</style>\n      <div className=\"loading-container\">\n        <h2 className=\"loading-title\">Loading</h2>\n        <div className=\"spinner\"></div>\n      </div>\n    </div>\n  );\n\n  if (isInThreeCanvas) {\n    return (\n      <Html\n        center\n        style={{\n          width: '100vw',\n          height: '100vh',\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          pointerEvents: 'none',\n        }}\n      >\n        {loadingContent}\n      </Html>\n    );\n  }\n\n  return loadingContent;\n};\n\nexport default LoadingScreen;\n",
    isBinary: false,
  },
};
export const TEMPLATE_3D_BASIC_FREEVIEW = {
  'README.md': {
    type: 'file',
    content:
      "# React + TypeScript + Vite\n\nThis template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.\n\nCurrently, two official plugins are available:\n\n- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react/README.md) uses [Babel](https://babeljs.io/) for Fast Refresh\n- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh\n\n## Expanding the ESLint configuration\n\nIf you are developing a production application, we recommend updating the configuration to enable type-aware lint rules:\n\n```js\nexport default tseslint.config({\n  extends: [\n    // Remove ...tseslint.configs.recommended and replace with this\n    ...tseslint.configs.recommendedTypeChecked,\n    // Alternatively, use this for stricter rules\n    ...tseslint.configs.strictTypeChecked,\n    // Optionally, add this for stylistic rules\n    ...tseslint.configs.stylisticTypeChecked,\n  ],\n  languageOptions: {\n    // other options...\n    parserOptions: {\n      project: ['./tsconfig.node.json', './tsconfig.app.json'],\n      tsconfigRootDir: import.meta.dirname,\n    },\n  },\n})\n```\n\nYou can also install [eslint-plugin-react-x](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-x) and [eslint-plugin-react-dom](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-dom) for React-specific lint rules:\n\n```js\n// eslint.config.js\nimport reactX from 'eslint-plugin-react-x'\nimport reactDom from 'eslint-plugin-react-dom'\n\nexport default tseslint.config({\n  plugins: {\n    // Add the react-x and react-dom plugins\n    'react-x': reactX,\n    'react-dom': reactDom,\n  },\n  rules: {\n    // other rules...\n    // Enable its recommended typescript rules\n    ...reactX.configs['recommended-typescript'].rules,\n    ...reactDom.configs.recommended.rules,\n  },\n})\n```\n",
    isBinary: false,
  },
  'package.json': {
    type: 'file',
    content:
      '{\n  "name": "freeview",\n  "private": true,\n  "version": "0.0.0",\n  "type": "module",\n  "scripts": {\n    "dev": "vite",\n    "build": "vite build",\n    "lint": "eslint .",\n    "preview": "vite preview"\n  },\n  "dependencies": {\n    "@agent8/gameserver": "^1.5.3",\n    "vibe-starter-3d": "^0.8.18",\n    "@react-three/drei": "9.122.0",\n    "@react-three/fiber": "8.18.0",\n    "@react-three/postprocessing": "2.19.1",\n    "@react-three/rapier": "1.5.0",\n    "@dimforge/rapier3d-compat": "0.14.0",\n    "nipplejs": "0.10.2",\n    "lucide-react": "0.482.0",\n    "react": "18.3.1",\n    "react-dom": "18.3.1",\n    "three": "0.174.0",\n    "three-stdlib": "2.35.14",\n    "zustand": "5.0.3"\n  },\n  "devDependencies": {\n    "@eslint/js": "^9.23.0",\n    "@types/react": "^18.3.20",\n    "@types/react-dom": "^18.3.5",\n    "@types/three": "^0.174.0",\n    "@vitejs/plugin-react": "^4.3.4",\n    "autoprefixer": "^10.4.21",\n    "eslint": "^9.23.0",\n    "eslint-plugin-react-hooks": "^5.2.0",\n    "eslint-plugin-react-refresh": "^0.4.19",\n    "globals": "^16.0.0",\n    "tailwindcss": "^3.4.17",\n    "typescript": "~5.8.2",\n    "typescript-eslint": "^8.28.0",\n    "vite": "^6.2.3"\n  }\n}\n',
    isBinary: false,
  },
  '.gitignore': {
    type: 'file',
    content:
      '# Logs\nlogs\n*.log\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\npnpm-debug.log*\nlerna-debug.log*\n\nnode_modules\ndist\ndist-ssr\n*.local\n\n# Editor directories and files\n.vscode/*\n!.vscode/extensions.json\n.idea\n.DS_Store\n*.suo\n*.ntvs*\n*.njsproj\n*.sln\n*.sw?\n\n.env\n.deployed',
    isBinary: false,
  },
  'index.html': {
    type: 'file',
    content:
      '<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <link rel="icon" type="image/svg+xml" href="/vite.svg" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Vite + React + TS</title>\n    <style>\n      body {\n        margin: 0;\n        padding: 0;\n        font-family: Arial, sans-serif;\n      }\n      .loading-container {\n        position: fixed;\n        inset: 0;\n        z-index: 50;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        background-color: black;\n        color: white;\n      }\n      .loading-title {\n        font-size: 1.5rem;\n        font-weight: bold;\n        margin-bottom: 1rem;\n      }\n      .spinner {\n        width: 30px;\n        height: 30px;\n        border: 3px solid rgba(255, 255, 255, 0.3);\n        border-radius: 50%;\n        border-top-color: white;\n        animation: spin 1s ease-in-out infinite;\n      }\n      @keyframes spin {\n        to {\n          transform: rotate(360deg);\n        }\n      }\n    </style>\n    <script>\n      (function () {\n        function reportGameSize() {\n          const height = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);\n\n          const width = Math.max(document.body.scrollWidth, document.documentElement.scrollWidth);\n\n          window.parent.postMessage(\n            {\n              type: \'GAME_SIZE_RESPONSE\',\n              height: height,\n              width: width,\n            },\n            \'*\',\n          );\n        }\n\n        window.addEventListener(\'load\', reportGameSize);\n\n        window.addEventListener(\'resize\', reportGameSize);\n\n        window.addEventListener(\'message\', function (event) {\n          if (event.data && event.data.type === \'REQUEST_GAME_SIZE\') {\n            reportGameSize();\n          }\n        });\n      })();\n    </script>\n  </head>\n  <body>\n    <div id="root">\n      <div class="loading-container">\n        <h2 class="loading-title">Loading</h2>\n        <div class="spinner"></div>\n      </div>\n    </div>\n    <script type="module" src="/src/main.tsx"></script>\n  </body>\n</html>\n',
    isBinary: false,
  },
  'PROJECT.md': {
    type: 'file',
    content:
      "# Basic 3D Free View\n\n## Project Summary\n\nThis project is a 3D character controller with free view camera, built using Three.js and React Three Fiber. It features a player character that can be controlled with keyboard inputs in a 3D environment. The character supports various animations including idle, walking, running, jumping, punching, kicking, melee attacks, casting, hit reactions, dancing, swimming, and death. The camera follows the character with a free-view perspective, allowing users to navigate through the 3D space. The project includes state management with Zustand, collision detection, and game server integration for multiplayer capabilities.\n\n## Implementation Strategy\n\nThis project uses a **Three.js-based 3D approach** because:\n\n- It requires real-time 3D character animation and control\n- Three.js provides efficient 3D rendering in web browsers\n- React Three Fiber simplifies integration with React components\n- The vibe-starter-3d library provides essential character rendering and animation tools\n\nKey technologies:\n\n- Three.js for 3D rendering\n- React Three Fiber for React integration\n- @react-three/rapier for physics simulation\n- @react-three/drei for useful Three.js helpers\n- vibe-starter-3d for character rendering and animation\n- Zustand for state management\n- @agent8/gameserver for multiplayer game server integration\n- Tailwind CSS for styling\n\n## Implemented Features\n\n- Keyboard-controlled character movement (WASD/Arrow keys)\n- Extensive character animations (idle, walk, run, jump, punch, kick, melee attack, cast, hit, dance, swim, die)\n- Free view camera that follows the character\n- Physics-based character movement with collision detection\n- Advanced character state management system with Zustand\n- 3D environment with floor and environmental lighting\n- Directional and ambient lighting with sunset environment preset\n- Animation system with support for looping and one-shot animations\n- Character bounding box calculations\n- Pointer lock for immersive control\n- Collision trigger system using RigidBodyPlayer's onTriggerEnter/onTriggerExit events for object interactions\n- Game server integration for multiplayer support\n- Player reference management system\n\n## File Structure Overview\n\n### `src/main.tsx`\n\n- Entry point for the application.\n- Sets up React rendering and mounts the `App` component.\n\n### `src/App.tsx`\n\n- Main application component.\n- Configures the overall layout and includes the `GameScene` component.\n\n### `src/App.css`\n\n- Defines the main styles for the `App` component and its child UI elements.\n\n### `src/index.css`\n\n- Defines global base styles, Tailwind CSS directives, fonts, etc., applied throughout the application.\n\n### `src/assets.json`\n\n- File for managing asset metadata. Includes character model and animation information.\n\n### `src/constants/`\n\n- Directory defining constant values used throughout the application.\n  - **`controls.ts`**: Defines settings that map keyboard inputs (WASD, arrow keys, etc.) to corresponding actions (movement, jump, etc.).\n  - **`character.ts`**: Defines character-related constants including extensive animation states (idle, walk, run, jump, punch, kick, melee attack, cast, hit, dance, swim, die).\n  - **`rigidBodyObjectType.ts`**: Defines constants for different types of rigid body objects in the physics simulation (player, enemy, monster, wall, obstacle, item, bullet, floor, etc.).\n\n### `src/stores/`\n\n- Directory containing state management stores using Zustand.\n  - **`gameStore.ts`**: Store that manages the overall game state. Tracks and controls the readiness state of the map physics system (`isMapPhysicsReady`). This state is used to determine physics simulation pause/resume and loading screen display.\n  - **`localPlayerStore.ts`**: Store that manages the local player's state, such as position tracking.\n  - **`multiPlayerStore.ts`**: Store that manages multiple connected players' rigid body references for multiplayer functionality, including registration, unregistration, and retrieval of player references.\n- **`playerActionStore.ts`**: Store that manages player action states including combat actions (punch, kick, meleeAttack, cast) with support for setting, getting, and resetting action states.\n\n### `src/components/`\n\n- Directory managing React components categorized by function.\n\n  - **`r3f/`**: Contains 3D components related to React Three Fiber.\n\n    - **`Experience.tsx`**: Simplified 3D scene component that focuses on core scene elements. Includes ambient lighting with 0.7 intensity, sunset environment preset (background disabled), the `Player` component, and the `Floor` component. This component has been streamlined to contain only essential scene elements.\n    - **`Floor.tsx`**: Component defining and visually representing the ground plane in the 3D space. Has physical properties.\n    - **`GameSceneCanvas.tsx`**: React Three Fiber Canvas component that renders the 3D game world with physics simulation and controller setup.\n    - **`MapPhysicsReadyChecker.tsx`**: Component that checks if the map physics system is ready by performing raycasting from above downward to detect map geometry and ensures physics interactions are properly initialized before gameplay begins. Performs checks every frame until valid map geometry is detected, with a timeout after 180 frames to prevent infinite checking. Excludes Capsule shapes (likely characters/objects) and sensor colliders from the inspection.\n    - **`Player.tsx`**: Advanced component built around the `RigidBodyPlayer` component from vibe-starter-3d for physics-based character control. Handles comprehensive player character logic including movement, rotation, extensive animation state management (idle, walk, run, jump, punch, kick, melee attack, cast, hit, dance, swim, die), collision detection, game server integration, and player reference management. Features sophisticated animation configuration mapping and state determination logic. Utilizes `RigidBodyPlayer`'s `onTriggerEnter` and `onTriggerExit` events to handle player interactions with other objects in the 3D environment, enabling collision-based gameplay mechanics. Integrates with `CharacterRenderer` for visual representation and animation playback.\n\n  - **`scene/`**: Contains components related to scene setup.\n\n    - **`GameScene.tsx`**: Main game scene component that serves as a layout container arranging the game UI and 3D Canvas. Contains critical performance warnings and guidelines to prevent re-rendering issues. Includes the `GameSceneCanvas` and `GameSceneUI` components in a proper layered structure where the Canvas renders the 3D world and UI components render as overlays.\n\n  - **`ui/`**: Contains UI components for the game interface.\n    - **`GameSceneUI.tsx`**: Component that manages UI overlays for the game scene.\n    - **`LoadingScreen.tsx`**: Loading screen component displayed during game loading.\n    - **`InputController.tsx`**: Manages all input handling including keyboard, mouse, and touch controls with virtual joystick support for mobile devices and action buttons for combat actions (punch, kick, melee attack, cast) and movement controls.\n",
    isBinary: false,
  },
  'server.js': {
    type: 'file',
    content: 'class Server {}\n',
    isBinary: false,
  },
  'tsconfig.json': {
    type: 'file',
    content:
      '{\n  "files": [],\n  "references": [\n    { "path": "./tsconfig.app.json" },\n    { "path": "./tsconfig.node.json" }\n  ]\n}\n',
    isBinary: false,
  },
  'tsconfig.app.json': {
    type: 'file',
    content:
      '{\n  "compilerOptions": {\n    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.app.tsbuildinfo",\n    "target": "ES2020",\n    "useDefineForClassFields": true,\n    "lib": ["ES2020", "DOM", "DOM.Iterable"],\n    "module": "ESNext",\n    "skipLibCheck": true,\n\n    /* Bundler mode */\n    "moduleResolution": "bundler",\n    "allowImportingTsExtensions": true,\n    "isolatedModules": true,\n    "moduleDetection": "force",\n    "noEmit": true,\n    "jsx": "react-jsx",\n\n    /* Linting */\n    "strict": false,\n    "noUnusedLocals": false,\n    "noUnusedParameters": false,\n    "noFallthroughCasesInSwitch": false,\n    "noUncheckedSideEffectImports": false\n  },\n  "include": ["src"]\n}\n',
    isBinary: false,
  },
  'tailwind.config.js': {
    type: 'file',
    content:
      '/** @type {import(\'tailwindcss\').Config} */\nexport default {\n  content: ["./index.html", "./src/**/*.{js,ts,jsx,tsx}"],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n};\n',
    isBinary: false,
  },
  'postcss.config.js': {
    type: 'file',
    content: 'export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n};\n',
    isBinary: false,
  },
  'tsconfig.node.json': {
    type: 'file',
    content:
      '{\n  "compilerOptions": {\n    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.node.tsbuildinfo",\n    "target": "ES2022",\n    "lib": ["ES2023"],\n    "module": "ESNext",\n    "skipLibCheck": true,\n\n    /* Bundler mode */\n    "moduleResolution": "bundler",\n    "allowImportingTsExtensions": true,\n    "isolatedModules": true,\n    "moduleDetection": "force",\n    "noEmit": true,\n\n    /* Linting */\n    "strict": false,\n    "noUnusedLocals": false,\n    "noUnusedParameters": false,\n    "noFallthroughCasesInSwitch": false,\n    "noUncheckedSideEffectImports": false\n  },\n  "include": ["vite.config.ts"]\n}\n',
    isBinary: false,
  },
  'docs/project-3d-rules.md': {
    type: 'file',
    content:
      "# 3D Project Development Rules\n\n## Guideline for Using `RigidBodyObject`\n\nWhen implementing physics interactions, it is mandatory to use the `RigidBodyObject` component from the `vibe-starter-3d` package instead of the standard `RigidBody` from `@react-three/rapier`.\n\nThe primary reason for this is to simplify event handling for collisions and intersections. Using the standard `RigidBody` component requires managing a complex set of events (`onCollisionEnter`, `onCollisionExit`, `onIntersectionEnter`, `onIntersectionExit`).\n\nIn contrast, `RigidBodyObject` abstracts this complexity. It allows you to handle all physics-based interactions uniformly through just two simple trigger events: `onTriggerEnter` and `onTriggerExit`. This makes the interaction logic significantly cleaner and easier to manage.\n\n## Canvas Component Structure Rules\n\n**Core Requirement:** Components that render HTML tags (e.g., `<div>`, `<button>`) must NEVER be placed inside React Three Fiber's `<Canvas>` component.\n\n**Reasoning:**\nThis is a core architectural rule. Placing standard HTML inside the `<Canvas>` WebGL context will cause rendering errors.\n\n**Implementation Guidelines:**\n\n- **UI Components:** Components using HTML tags belong in the `src/components/ui/` directory. They must be rendered as an overlay, outside the `<Canvas>`.\n- **3D Components:** Only Three.js-related components, located in `src/components/r3f/`, should be placed inside the `<Canvas>`.\n\n**Correct Structure Example:**\n\n```tsx\n// ‚úÖ Correct approach\n<div>\n  {/* The 3D scene is rendered inside the Canvas */}\n  <Canvas>\n    <Player />\n    <Floor />\n  </Canvas>\n\n  {/* UI components are rendered as overlays outside the Canvas */}\n  <Crosshair />\n  <LoadingScreen />\n</div>\n```\n\n**Incorrect Structure Example:**\n\n```tsx\n// ‚ùå Incorrect approach\n<Canvas>\n  <Player />\n  {/* This is forbidden, as Crosshair renders HTML */}\n  <Crosshair />\n</Canvas>\n```\n",
    isBinary: false,
  },
  'vite.config.ts.js': {
    type: 'file',
    content:
      '// vite.config.ts\nimport { defineConfig } from "vite";\nimport react from "@vitejs/plugin-react";\nvar vite_config_default = defineConfig({\n  plugins: [react()],\n  optimizeDeps: {\n    exclude: ["lucide-react"]\n  },\n  base: "./",\n  build: {\n    outDir: "dist"\n  }\n});\nexport {\n  vite_config_default as default\n};\n//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IGRlZmluZUNvbmZpZyB9IGZyb20gXCJ2aXRlXCI7XG5pbXBvcnQgcmVhY3QgZnJvbSBcIkB2aXRlanMvcGx1Z2luLXJlYWN0XCI7XG5cbi8vIGh0dHBzOi8vdml0ZWpzLmRldi9jb25maWcvXG5leHBvcnQgZGVmYXVsdCBkZWZpbmVDb25maWcoe1xuICBwbHVnaW5zOiBbcmVhY3QoKV0sXG4gIG9wdGltaXplRGVwczoge1xuICAgIGV4Y2x1ZGU6IFtcImx1Y2lkZS1yZWFjdFwiXSxcbiAgfSxcbiAgYmFzZTogXCIuL1wiLFxuICBidWlsZDoge1xuICAgIG91dERpcjogXCJkaXN0XCIsXG4gIH0sXG59KTtcbiJdLAogICJtYXBwaW5ncyI6ICI7QUFBQTtBQUNBO0FBR0EsSUFBTyxzQkFBUSxhQUFhO0FBQUEsRUFDMUIsU0FBUyxDQUFDO0FBQUEsRUFDVixjQUFjO0FBQUEsSUFDWixTQUFTLENBQUM7QUFBQTtBQUFBLEVBRVosTUFBTTtBQUFBLEVBQ04sT0FBTztBQUFBLElBQ0wsUUFBUTtBQUFBO0FBQUE7IiwKICAibmFtZXMiOiBbXQp9Cg==\n',
    isBinary: false,
  },
  'vite.config.ts': {
    type: 'file',
    content:
      'import { defineConfig } from "vite";\nimport react from "@vitejs/plugin-react";\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [react()],\n  optimizeDeps: {\n    exclude: ["lucide-react"],\n  },\n  base: "./",\n  build: {\n    outDir: "dist",\n  },\n});\n',
    isBinary: false,
  },
  'src/App.tsx': {
    type: 'file',
    content:
      "import React from 'react';\nimport './App.css';\nimport GameScene from './components/scene/GameScene.tsx';\n\nconst App: React.FC = () => {\n  return (\n    <div style={{ width: '100vw', height: '100vh' }}>\n      <GameScene />\n    </div>\n  );\n};\n\nexport default App;\n",
    isBinary: false,
  },
  'src/App.css': {
    type: 'file',
    content: '#root {\n  margin: 0 auto;\n  text-align: center;\n}\n',
    isBinary: false,
  },
  'src/assets.json': {
    type: 'file',
    content:
      '{\n  "characters": {\n    "base-model": {\n      "url": "https://agent8-games.verse8.io/assets/3d/characters/realistic style/base-model.glb"\n    }\n  },\n  "animations": {\n    "idle": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/idle.glb",\n      "description": "Idle"\n    },\n    "idle-00": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/idle-00.glb",\n      "description": "Idle 00"\n    },\n    "idle-01": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/idle-01.glb",\n      "description": "Idle 01"\n    },\n    "rifle-idle": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/rifle-idle.glb",\n      "description": "Rifle idle"\n    },\n    "pistol-idle": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/pistol-idle.glb",\n      "description": "Pistol idle"\n    },\n    "walk": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/walk.glb",\n      "description": "Walk"\n    },\n    "run-medium": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/run-medium.glb",\n      "description": "Run Medium"\n    },\n    "run-fast": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/run-fast.glb",\n      "description": "Run Fast"\n    },\n    "rifle-run": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/rifle-run.glb",\n      "description": "Rifle Run"\n    },\n    "pistol-run": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/pistol-run.glb",\n      "description": "Pistol Run"\n    },\n    "jump": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/jump.glb",\n      "description": "Jump"\n    },\n    "swim": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/swim.glb",\n      "description": "Swim"\n    },\n    "punch-00": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/punch-00.glb",\n      "description": "Punch 00"\n    },\n    "punch-01": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/punch-01.glb",\n      "description": "Punch 01"\n    },\n    "kick-00": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/kick-00.glb",\n      "description": "Kick 00"\n    },\n    "kick-01": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/kick-01.glb",\n      "description": "Kick 01"\n    },\n    "kick-02": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/kick-02.glb",\n      "description": "Kick 02"\n    },\n    "melee-attack": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/melee-attack.glb",\n      "description": "Melee Attack"\n    },\n    "cast": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/cast.glb",\n      "description": "Cast"\n    },\n    "dance-locking": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/dance-locking.glb",\n      "description": "Dance Locking"\n    },\n    "dance-wave": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/dance-wave.glb",\n      "description": "Dance Wave"\n    },\n    "death-backward": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/death-backward.glb",\n      "description": "Death Backward"\n    },\n    "death-foward": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/death-foward.glb",\n      "description": "Death Foward"\n    },\n    "hit-to-body": {\n      "url": "https://agent8-games.verse8.io/assets/3d/animations/mixamorig/hit-to-body.glb",\n      "description": "Hit to Body"\n    }\n  }\n}\n',
    isBinary: false,
  },
  'src/main.tsx': {
    type: 'file',
    content:
      "import { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport './index.css';\nimport App from './App.tsx';\n\ncreateRoot(document.getElementById('root')!).render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n);\n",
    isBinary: false,
  },
  'src/index.css': {
    type: 'file',
    content: '@tailwind base;\n@tailwind components;\n@tailwind utilities;\n',
    isBinary: false,
  },
  'src/constants/character.ts': {
    type: 'file',
    content:
      "import { AnimationType } from 'vibe-starter-3d';\n\nexport const CharacterState: { [key: string]: AnimationType } = {\n  /** IDLE ACTION */\n  IDLE: 'IDLE',\n  /** IDLE ACTION */\n  IDLE_01: 'IDLE_01',\n  /** WALKING ACTION */\n  WALK: 'WALK',\n  /** RUNNING ACTION */\n  RUN: 'RUN',\n  /** SPRINTING ACTION */\n  FAST_RUN: 'FAST_RUN',\n  /** JUMP ACTION */\n  JUMP: 'JUMP',\n  /** PUNCH ACTION */\n  PUNCH: 'PUNCH',\n  /** PUNCH ACTION */\n  PUNCH_01: 'PUNCH_01',\n  /** KICK ACTION */\n  KICK: 'KICK',\n  /** KICK ACTION */\n  KICK_01: 'KICK_01',\n  /** KICK ACTION */\n  KICK_02: 'KICK_02',\n  /** MELEE ATTACK ACTION */\n  MELEE_ATTACK: 'MELEE_ATTACK',\n  /** CAST ACTION */\n  CAST: 'CAST',\n  /** HIT ACTION */\n  HIT: 'HIT',\n  /** DIE ACTION */\n  DIE: 'DIE',\n};\n\nexport type CharacterState = (typeof CharacterState)[keyof typeof CharacterState];\n",
    isBinary: false,
  },
  'src/constants/rigidBodyObjectType.ts': {
    type: 'file',
    content:
      "export const RigidBodyObjectType = {\n  /** Local Player */\n  LOCAL_PLAYER: 'LOCAL_PLAYER',\n  /** Enemy */\n  ENEMY: 'ENEMY',\n  /** Monster */\n  MONSTER: 'MONSTER',\n  /** Wall */\n  WALL: 'WALL',\n  /** Obstacle */\n  OBSTACLE: 'OBSTACLE',\n  /** Item */\n  ITEM: 'ITEM',\n  /** Bullet */\n  BULLET: 'BULLET',\n  /** Floor */\n  FLOOR: 'FLOOR',\n  /** Floating board */\n  PLOTTING_BOARD: 'PLOTTING_BOARD',\n} as const;\n",
    isBinary: false,
  },
  'src/stores/gameStore.ts': {
    type: 'file',
    content:
      "import { create } from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\n\ninterface GameStore {\n  isMapPhysicsReady: boolean;\n  setMapPhysicsReady: (ready: boolean) => void;\n}\n\nexport const useGameStore = create<GameStore>()(\n  subscribeWithSelector((set) => ({\n    isMapPhysicsReady: false,\n    setMapPhysicsReady: (ready: boolean) => set({ isMapPhysicsReady: ready }),\n  })),\n);\n",
    isBinary: false,
  },
  'src/stores/localPlayerStore.ts': {
    type: 'file',
    content:
      "import { create } from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\nimport * as THREE from 'three';\n\ntype PlayerState = {\n  position: THREE.Vector3;\n};\n\ntype LocalPlayerState = {\n  state: PlayerState;\n  setPosition: (x: number, y: number, z: number) => void;\n  clearPosition: () => void;\n};\n\nexport const useLocalPlayerStore = create<LocalPlayerState>()(\n  subscribeWithSelector((_, get) => ({\n    state: {\n      position: new THREE.Vector3(0, 0, 0),\n    },\n\n    setPosition: (x: number, y: number, z: number) => {\n      const state = get().state;\n      state.position.x = x;\n      state.position.y = y;\n      state.position.z = z;\n    },\n\n    clearPosition: () => {\n      const state = get().state;\n      state.position.x = 0;\n      state.position.y = 0;\n      state.position.z = 0;\n    },\n  })),\n);\n",
    isBinary: false,
  },
  'src/stores/multiPlayerStore.ts': {
    type: 'file',
    content:
      "import { create } from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\nimport React from 'react';\nimport { RigidBody } from '@dimforge/rapier3d-compat';\n\ntype MultiPlayerRigidBodyState = {\n  connectedPlayerRefs: Record<string, React.RefObject<RigidBody>>;\n  registerConnectedPlayer: (account: string, rigidBodyRef: React.RefObject<RigidBody>) => void;\n  unregisterConnectedPlayer: (account: string) => void;\n  getConnectedPlayerRef: (account: string) => React.RefObject<RigidBody> | undefined;\n  getAllConnectedPlayerRefs: () => Record<string, React.RefObject<RigidBody>>;\n  getConnectedPlayerCount: () => number;\n};\n\nexport const useMultiPlayerStore = create<MultiPlayerRigidBodyState>()(\n  subscribeWithSelector((set, get) => ({\n    connectedPlayerRefs: {},\n\n    registerConnectedPlayer: (account: string, rigidBodyRef: React.RefObject<RigidBody>) => {\n      set((state) => ({\n        connectedPlayerRefs: {\n          ...state.connectedPlayerRefs,\n          [account]: rigidBodyRef,\n        },\n      }));\n    },\n\n    unregisterConnectedPlayer: (account: string) => {\n      set((state) => {\n        const newConnectedPlayerRefs = { ...state.connectedPlayerRefs };\n        delete newConnectedPlayerRefs[account];\n        return { connectedPlayerRefs: newConnectedPlayerRefs };\n      });\n    },\n\n    getConnectedPlayerRef: (account: string) => {\n      return get().connectedPlayerRefs[account];\n    },\n\n    getAllConnectedPlayerRefs: () => {\n      return get().connectedPlayerRefs;\n    },\n\n    getConnectedPlayerCount: () => {\n      return Object.keys(get().connectedPlayerRefs).length;\n    },\n  })),\n);\n",
    isBinary: false,
  },
  'src/stores/playerActionStore.ts': {
    type: 'file',
    content:
      'interface PlayerActionState {\n  punch: boolean;\n  kick: boolean;\n  meleeAttack: boolean;\n  cast: boolean;\n}\n\ninterface PlayerActionStore extends PlayerActionState {\n  setPlayerAction: (action: string, pressed: boolean) => void;\n  getPlayerAction: (action: string) => boolean;\n  resetAllPlayerActions: () => void;\n}\n\nconst playerActionStore: PlayerActionStore = {\n  punch: false,\n  kick: false,\n  meleeAttack: false,\n  cast: false,\n\n  setPlayerAction: (action: string, pressed: boolean) => {\n    (playerActionStore as any)[action] = pressed;\n  },\n\n  getPlayerAction: (action: string): boolean => {\n    return (playerActionStore as any)[action];\n  },\n\n  resetAllPlayerActions: () => {\n    playerActionStore.punch = false;\n    playerActionStore.kick = false;\n    playerActionStore.meleeAttack = false;\n    playerActionStore.cast = false;\n  },\n};\n\nexport const usePlayerActionStore = () => playerActionStore;',
    isBinary: false,
  },
  'src/components/scene/GameScene.tsx': {
    type: 'file',
    content:
      "import GameSceneCanvas from '../r3f/GameSceneCanvas';\nimport GameSceneUI from '../ui/GameSceneUI';\n\n/**\n * Main Game Scene Component\n *\n * This component serves as a layout container that arranges the game UI and 3D Canvas.\n *\n * üö® CRITICAL PERFORMANCE WARNING:\n * Re-rendering of this component triggers re-rendering of the entire 3D Canvas, causing severe performance degradation.\n *\n * Prohibited Actions:\n * - Using state management hooks like useState, useReducer\n * - Passing frequently changing values as props\n * - State updates inside useEffect\n * - Conditional rendering that changes component structure\n * - Creating inline objects/functions (e.g., style={{...}}, onClick={() => {}})\n *\n * Recommendations:\n * - Handle state management in child components (GameSceneUI, GameSceneCanvas)\n * - Access global state directly through zustand store or similar\n * - Memoize event handlers with useCallback before use\n */\nconst GameScene = () => {\n  return (\n    <div className=\"relative w-full h-screen\">\n      <GameSceneUI />\n      <GameSceneCanvas />\n    </div>\n  );\n};\n\nexport default GameScene;\n",
    isBinary: false,
  },
  'src/components/r3f/Floor.tsx': {
    type: 'file',
    content:
      'import { RigidBodyObject } from \'vibe-starter-3d\';\nimport { RigidBodyObjectType } from \'../../constants/rigidBodyObjectType\';\n\nfunction Floor() {\n  return (\n    <RigidBodyObject type="fixed" colliders="trimesh" userData={{ type: RigidBodyObjectType.FLOOR }}>\n      <mesh rotation={[-Math.PI / 2, 0, 0]} receiveShadow position={[0, 0, 0]}>\n        <planeGeometry args={[100, 100]} />\n        <meshStandardMaterial color="#3f3f3f" />\n      </mesh>\n    </RigidBodyObject>\n  );\n}\n\nexport default Floor;\n',
    isBinary: false,
  },
  'src/components/r3f/GameSceneCanvas.tsx': {
    type: 'file',
    content:
      "import React, { Suspense } from 'react';\nimport { Canvas } from '@react-three/fiber';\nimport { Physics } from '@react-three/rapier';\nimport { FollowLight, FreeViewController, IS_MOBILE } from 'vibe-starter-3d';\nimport { useGameStore } from '../../stores/gameStore';\nimport { Environment } from '@react-three/drei';\nimport MapPhysicsReadyChecker from '../r3f/MapPhysicsReadyChecker';\nimport Player from './Player';\nimport Floor from './Floor';\n\n/**\n * Game Scene Canvas Component\n *\n * This component is responsible for rendering the entire 3D game world using React Three Fiber.\n * It serves as the root container for all 3D elements, physics simulation, and game interactions.\n */\nconst GameSceneCanvas = () => {\n  // ‚ö†Ô∏è MUST CHECK: Map physics system ready state\n  // Physics paused and loading screen displayed while this value is false\n  const { isMapPhysicsReady } = useGameStore();\n\n  return (\n    <>\n      {/* ‚ö†Ô∏è DO NOT DELETE: Core Canvas component for React Three Fiber */}\n      <Canvas\n        shadows\n        onPointerDown={(e) => {\n          if (!IS_MOBILE) {\n            (e.target as HTMLCanvasElement).requestPointerLock();\n          }\n        }}\n      >\n        <Physics paused={!isMapPhysicsReady}>\n          <Suspense fallback={null}>\n            {/* ‚ö†Ô∏è MUST INCLUDE: Essential checker for map physics initialization */}\n            {!isMapPhysicsReady && <MapPhysicsReadyChecker />}\n            <FreeViewController />\n            <Environment preset=\"sunset\" background={false} />\n            <ambientLight intensity={0.7} />\n            <FollowLight />\n            <Player />\n            <Floor />\n          </Suspense>\n        </Physics>\n      </Canvas>\n    </>\n  );\n};\n\nexport default GameSceneCanvas;\n",
    isBinary: false,
  },
  'src/components/r3f/MapPhysicsReadyChecker.tsx': {
    type: 'file',
    content:
      "import { useFrame } from '@react-three/fiber';\nimport { useRapier } from '@react-three/rapier';\nimport { useRef } from 'react';\nimport * as THREE from 'three';\nimport { useGameStore } from '../../stores/gameStore';\n\n/**\n * Component that checks if the map physics is ready by performing raycasting.\n * Casts a ray downward from above to detect map geometry and ensures physics\n * interactions are properly initialized before gameplay begins.\n *\n * - Performs checks every frame until map physics is confirmed ready\n * - Times out after 60 frames as fallback to prevent infinite checking\n * - Excludes Capsule shapes (likely characters/objects) and sensor colliders\n * - Sets mapPhysicsReady to true once valid map geometry is detected\n */\nfunction MapPhysicsReadyChecker() {\n  const { isMapPhysicsReady, setMapPhysicsReady } = useGameStore();\n  const physicsCheckCount = useRef(0);\n  const { rapier, world } = useRapier();\n\n  useFrame(() => {\n    if (isMapPhysicsReady) return;\n\n    physicsCheckCount.current++;\n    if (physicsCheckCount.current > 180) {\n      setMapPhysicsReady(true);\n      return;\n    }\n\n    const origin = new THREE.Vector3(0, 50, 0);\n    const downDirection = new THREE.Vector3(0, -1, 0);\n    const ray = new rapier.Ray(origin, downDirection);\n\n    // Get all intersections and find the first non-sensor collider\n    const intersections: any[] = [];\n    world.propagateModifiedBodyPositionsToColliders();\n    world.updateSceneQueries();\n    world.intersectionsWithRay(ray, 100, true, (intersection) => {\n      // Exclude Capsule shapes as they are unlikely to be map colliders\n      if (intersection.collider.shape.type === rapier.ShapeType.Capsule) {\n        return true;\n      }\n      intersections.push(intersection);\n      return true; // continue searching\n    });\n\n    // Find the first non-sensor collider\n    const validHit = intersections.find((intersection) => !intersection.collider.isSensor());\n    if (!validHit) return;\n\n    console.log('%c[vibe-starter-3d]%c Map physics initialized.', 'color: #7159c1; font-weight: bold', 'color: inherit;');\n    setMapPhysicsReady(true);\n  });\n\n  return null;\n}\n\nexport default MapPhysicsReadyChecker;\n",
    isBinary: false,
  },
  'src/components/r3f/Player.tsx': {
    type: 'file',
    content:
      "import React, { useRef, useEffect, useCallback } from 'react';\nimport { useFrame, Vector3 } from '@react-three/fiber';\nimport { CollisionPayload } from '@react-three/rapier';\nimport { useGameServer } from '@agent8/gameserver';\n\nimport { useLocalPlayerStore } from '../../stores/localPlayerStore';\nimport { useMultiPlayerStore } from '../../stores/multiPlayerStore';\n\nimport { CharacterState } from '../../constants/character';\nimport { RigidBodyObjectType } from '../../constants/rigidBodyObjectType';\n\nimport Assets from '../../assets.json';\nimport {\n  AnimationConfigMap,\n  AnimationType,\n  CharacterMovementState,\n  CharacterRenderer,\n  RigidBodyPlayer,\n  RigidBodyPlayerRef,\n  useCharacterAnimation,\n  useControllerStore,\n} from 'vibe-starter-3d';\nimport { usePlayerActionStore } from '../../stores/playerActionStore';\n\nconst targetHeight = 1.6;\n\n// States that can be interrupted by actions\nconst INTERRUPTIBLE_STATES = [\n  CharacterState.IDLE,\n  CharacterState.IDLE_01,\n  CharacterState.WALK,\n  CharacterState.RUN,\n  CharacterState.FAST_RUN,\n  CharacterState.JUMP,\n] as const;\n\n// Animation configuration map moved outside component for better performance\nconst animationConfigMap: AnimationConfigMap = {\n  [CharacterState.IDLE]: {\n    url: Assets.animations['idle-00'].url,\n    loop: true,\n  },\n  [CharacterState.IDLE_01]: {\n    url: Assets.animations['idle-01'].url,\n    loop: true,\n  },\n  [CharacterState.WALK]: {\n    url: Assets.animations['walk'].url,\n    loop: true,\n  },\n  [CharacterState.RUN]: {\n    url: Assets.animations['run-medium'].url,\n    loop: true,\n  },\n  [CharacterState.FAST_RUN]: {\n    url: Assets.animations['run-fast'].url,\n    loop: true,\n  },\n  [CharacterState.JUMP]: {\n    url: Assets.animations['jump'].url,\n    loop: true,\n    clampWhenFinished: true,\n  },\n  [CharacterState.PUNCH]: {\n    url: Assets.animations['punch-00'].url,\n    loop: false,\n    duration: 0.5,\n    clampWhenFinished: true,\n  },\n  [CharacterState.PUNCH_01]: {\n    url: Assets.animations['punch-01'].url,\n    loop: false,\n    duration: 0.5,\n    clampWhenFinished: true,\n  },\n  [CharacterState.KICK]: {\n    url: Assets.animations['kick-00'].url,\n    loop: false,\n    duration: 0.75,\n    clampWhenFinished: true,\n  },\n  [CharacterState.KICK_01]: {\n    url: Assets.animations['kick-01'].url,\n    loop: false,\n    duration: 1,\n    clampWhenFinished: true,\n  },\n  [CharacterState.KICK_02]: {\n    url: Assets.animations['kick-02'].url,\n    loop: false,\n    duration: 1,\n    clampWhenFinished: true,\n  },\n  [CharacterState.MELEE_ATTACK]: {\n    url: Assets.animations['melee-attack'].url,\n    loop: false,\n    duration: 1,\n    clampWhenFinished: true,\n  },\n  [CharacterState.CAST]: {\n    url: Assets.animations['cast'].url,\n    loop: false,\n    duration: 1,\n    clampWhenFinished: true,\n  },\n  [CharacterState.HIT]: {\n    url: Assets.animations['hit-to-body'].url,\n    loop: false,\n    clampWhenFinished: false,\n  },\n  [CharacterState.DANCE]: {\n    url: Assets.animations['dance-wave'].url,\n    loop: false,\n    clampWhenFinished: false,\n  },\n  [CharacterState.SWIM]: {\n    url: Assets.animations['swim'].url,\n    loop: true,\n  },\n  [CharacterState.DIE]: {\n    url: Assets.animations['death-backward'].url,\n    loop: false,\n    clampWhenFinished: true,\n  },\n};\n\n/**\n * Player props\n */\ninterface PlayerProps {\n  /** Initial position of the player */\n  position?: Vector3;\n}\n\n/**\n * Player component that manages character model and animations\n *\n * Handles player state management and delegates rendering to CharacterRenderer.\n * Movement states come from ControllerStore, actions are handled locally.\n */\nconst Player = ({ position }: PlayerProps) => {\n  const { account } = useGameServer();\n  const { registerConnectedPlayer, unregisterConnectedPlayer } = useMultiPlayerStore();\n  const { setPosition: setLocalPlayerPosition } = useLocalPlayerStore();\n  const { getPlayerAction } = usePlayerActionStore();\n\n  // Use the new useCharacterAnimation hook\n  const { animationState, setAnimation, getAnimation } = useCharacterAnimation<CharacterState>(CharacterState.IDLE);\n\n  // Get movement state from controller store (unified API)\n  const { getCharacterMovementState, isControlLocked, lockControls, unlockControls } = useControllerStore();\n\n  // IMPORTANT: rigidBodyPlayerRef.current type is RigidBody\n  const rigidBodyPlayerRef = useRef<RigidBodyPlayerRef>(null);\n\n  // IMPORTANT: Register connected player reference\n  useEffect(() => {\n    if (!account) return;\n\n    registerConnectedPlayer(account, rigidBodyPlayerRef);\n\n    return () => {\n      unregisterConnectedPlayer(account);\n    };\n  }, [account, registerConnectedPlayer, unregisterConnectedPlayer]);\n\n  // IMPORTANT: Update local player store position information\n  useFrame(() => {\n    const playerRigidBody = rigidBodyPlayerRef.current;\n    if (!playerRigidBody) return;\n\n    const position = playerRigidBody.translation();\n    setLocalPlayerPosition(position.x, position.y, position.z);\n  });\n\n  // Helper functions\n  const canInterrupt = useCallback((state: CharacterState): boolean => {\n    return INTERRUPTIBLE_STATES.includes(state);\n  }, []);\n\n  // Convert ControllerStore state to Player animation state\n  const toCharacterState = useCallback((characterMovementState: CharacterMovementState): CharacterState => {\n    switch (characterMovementState) {\n      case CharacterMovementState.IDLE:\n        return CharacterState.IDLE;\n      case CharacterMovementState.WALKING:\n        return CharacterState.WALK;\n      case CharacterMovementState.RUN:\n        return CharacterState.RUN;\n      case CharacterMovementState.FAST_RUN:\n        return CharacterState.FAST_RUN;\n      case CharacterMovementState.AIRBORNE:\n        return CharacterState.JUMP;\n      default:\n        return CharacterState.IDLE;\n    }\n  }, []);\n\n  // Callback triggered when a non-looping animation finishes.\n  const handleAnimationComplete = useCallback(\n    (type: AnimationType) => {\n      unlockControls();\n      switch (type) {\n        case CharacterState.PUNCH:\n        case CharacterState.PUNCH_01:\n          setAnimation(CharacterState.IDLE_01);\n          break;\n        case CharacterState.KICK:\n        case CharacterState.KICK_01:\n        case CharacterState.KICK_02:\n          setAnimation(CharacterState.IDLE_01);\n          break;\n        case CharacterState.CAST:\n          setAnimation(CharacterState.IDLE_01);\n          break;\n        case CharacterState.HIT:\n          setAnimation(CharacterState.IDLE_01);\n          break;\n        case CharacterState.MELEE_ATTACK:\n          setAnimation(CharacterState.IDLE_01);\n          break;\n        case CharacterState.DANCE:\n          setAnimation(CharacterState.IDLE);\n          break;\n        default:\n          break;\n      }\n    },\n    [unlockControls, setAnimation],\n  );\n\n  const updatePlayerState = useCallback((): void => {\n    const currentState = getAnimation();\n\n    // If controls are locked, don't process actions\n    if (isControlLocked()) {\n      return;\n    }\n\n    // Handle death and revive states\n    // TODO: Connect with actual game state\n    // const isRevive = playerHealth > 0 && currentState === CharacterState.DIE;\n    // const isDying = playerHealth <= 0 && currentState !== CharacterState.DIE;\n\n    // Currently using placeholder false values\n    const isRevive = false;\n    const isDying = false;\n\n    // Revive handling: when health is restored while in death state\n    if (isRevive) {\n      setAnimation(CharacterState.IDLE);\n      return;\n    }\n\n    // Death handling: when health drops to 0 or below\n    if (isDying) {\n      setAnimation(CharacterState.DIE);\n      return;\n    }\n\n    // Handle action states (punch, kick, etc.) - highest priority\n    if (getPlayerAction('punch') && canInterrupt(currentState)) {\n      setAnimation(CharacterState.PUNCH);\n      lockControls();\n      return;\n    }\n\n    if (getPlayerAction('kick') && canInterrupt(currentState)) {\n      setAnimation(CharacterState.KICK);\n      lockControls();\n      return;\n    }\n\n    if (getPlayerAction('meleeAttack') && canInterrupt(currentState)) {\n      setAnimation(CharacterState.MELEE_ATTACK);\n      lockControls();\n      return;\n    }\n\n    if (getPlayerAction('cast') && canInterrupt(currentState)) {\n      setAnimation(CharacterState.CAST);\n      lockControls();\n      return;\n    }\n\n    // For movement states, use ControllerStore state\n    if (canInterrupt(currentState)) {\n      const characterMovementState = getCharacterMovementState();\n      const characterState = toCharacterState(characterMovementState);\n      setAnimation(characterState);\n    }\n  }, [isControlLocked, canInterrupt, lockControls, getCharacterMovementState, toCharacterState, getAnimation, setAnimation, getPlayerAction]);\n\n  // Update player action state based on inputs and physics\n  useFrame(() => {\n    if (!rigidBodyPlayerRef.current) return;\n    updatePlayerState();\n  });\n\n  /** handleTriggerEnter: Called when the player intersects or collides with another object.\n   * - Handles when entering a specific area or colliding with another object\n   */\n  const handleTriggerEnter = (payload: CollisionPayload) => {\n    if (payload.other.rigidBody?.userData?.['type']) {\n      // TODO: Handle when entering a specific area or colliding with another object\n    }\n  };\n\n  /** handleTriggerExit: Called when the player exits an intersection or ends a collision with another object.\n   * - Handles when exiting a specific area or when collision with another object ends\n   */\n  const handleTriggerExit = (payload: CollisionPayload) => {\n    if (payload.other.rigidBody?.userData?.['type']) {\n      // TODO: Handle when exiting a specific area or when collision with another object ends\n    }\n  };\n\n  return (\n    <RigidBodyPlayer\n      ref={rigidBodyPlayerRef}\n      userData={{ account, type: RigidBodyObjectType.LOCAL_PLAYER }}\n      position={position}\n      targetHeight={targetHeight}\n      onTriggerEnter={handleTriggerEnter}\n      onTriggerExit={handleTriggerExit}\n    >\n      <CharacterRenderer\n        url={Assets.characters['base-model'].url}\n        animationConfigMap={animationConfigMap}\n        animationState={animationState}\n        targetHeight={targetHeight}\n        onAnimationComplete={handleAnimationComplete}\n      />\n    </RigidBodyPlayer>\n  );\n};\n\nexport default Player;\n",
    isBinary: false,
  },
  'src/components/ui/GameSceneUI.tsx': {
    type: 'file',
    content:
      "import { useGameStore } from '../../stores/gameStore';\nimport { InputController } from './InputController';\nimport LoadingScreen from './LoadingScreen';\n\n/**\n * Game Scene UI Component\n *\n * This component manages UI overlays for the game scene.\n * It handles loading states and displays appropriate UI elements based on game state.\n */\nconst GameSceneUI = () => {\n  // ‚ö†Ô∏è MUST CHECK: Map physics system ready state\n  // Physics paused and loading screen displayed while this value is false\n  const { isMapPhysicsReady } = useGameStore();\n\n  return (\n    <>\n      {/* Input Controller - Global input management (keyboard, touch) */}\n      <InputController disableJoystick={false} disableKeyboard={false} disabled={!isMapPhysicsReady} />\n\n      {/* Loading Game Scene screen overlay */}\n      {!isMapPhysicsReady && <LoadingScreen />}\n    </>\n  );\n};\n\nexport default GameSceneUI;\n",
    isBinary: false,
  },
  'src/components/ui/InputController.tsx': {
    type: 'file',
    content:
      "import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport * as THREE from 'three';\nimport { IS_MOBILE, useInputStore } from 'vibe-starter-3d';\nimport { usePlayerActionStore } from '../../stores/playerActionStore';\nimport nipplejs from 'nipplejs';\n\n/**\n * Key mapping configuration - simple Record<string, string[]>\n */\ntype KeyMapping = Record<string, string[]>; // action: [key1, key2, ...]\n\n/**\n * Controller key mapping\n */\nconst CONTROL_KEY_MAPPING: KeyMapping = {\n  forward: ['KeyW', 'ArrowUp'],\n  backward: ['KeyS', 'ArrowDown'],\n  leftward: ['KeyA', 'ArrowLeft'],\n  rightward: ['KeyD', 'ArrowRight'],\n  jump: ['Space'],\n  run: ['ShiftLeft', 'ShiftRight'],\n};\n\n/**\n * Player action key mapping\n */\nconst ACTION_KEY_MAPPING: KeyMapping = {\n  punch: ['KeyF', 'Mouse0'],\n  kick: ['KeyG', 'Mouse2'],\n  meleeAttack: ['KeyQ', 'KeyC'],\n  cast: ['KeyE', 'Mouse1'],\n};\n\n// Movement speed constants\nconst MOVEMENT_SPEED_WALK = 0.6;\nconst MOVEMENT_SPEED_RUN_BOOST = 0.4;\nconst MOVEMENT_SPEED_MAX = 1.0;\nconst JOYSTICK_RANGE_MULTIPLIER = 2.0; // Converts joystick range (0~0.5) to full range (0~1.0)\n\ninterface InputControllerProps {\n  disabled?: boolean;\n  disableKeyboard?: boolean;\n  disableJoystick?: boolean;\n}\n\nexport const InputController: React.FC<InputControllerProps> = ({ disabled = false, disableKeyboard = false, disableJoystick = false }) => {\n  // Store actions to controller\n  const { setMovementInput, setActionInput, resetAllInputs, setActiveInputSource } = useInputStore();\n  const { setPlayerAction, resetAllPlayerActions } = usePlayerActionStore();\n\n  // Button states\n  const [isJumpPressed, setIsJumpPressed] = useState(false);\n  const [isAttackPressed, setIsAttackPressed] = useState(false);\n\n  // Keyboard state tracking\n  const keyboardStateRef = useRef({\n    forward: false,\n    backward: false,\n    leftward: false,\n    rightward: false,\n    run: false,\n  });\n\n  // Helper function to calculate movement from keyboard state\n  const calculateKeyboardMovement = useCallback(() => {\n    const state = keyboardStateRef.current;\n\n    // Calculate direction\n    const x = (state.leftward ? 1 : 0) + (state.rightward ? -1 : 0);\n    const y = (state.forward ? 1 : 0) + (state.backward ? -1 : 0);\n\n    // Use Three.js Vector2 for efficient normalization\n    const direction = new THREE.Vector2(x, y);\n    const magnitude = direction.length();\n\n    // Normalize diagonal movement\n    if (magnitude > 0) {\n      direction.normalize();\n    }\n\n    // Calculate intensity: base speed + run boost\n    const baseIntensity = magnitude > 0 ? MOVEMENT_SPEED_WALK : 0; // Base walking speed\n    const runBoost = state.run ? MOVEMENT_SPEED_RUN_BOOST : 0; // Additional speed when running\n    const intensity = Math.min(baseIntensity + runBoost, MOVEMENT_SPEED_MAX);\n\n    return {\n      direction: { x: direction.x, y: direction.y },\n      intensity,\n    };\n  }, []);\n\n  // Joystick input handling with analog support\n  useEffect(() => {\n    if (disabled || disableJoystick || !IS_MOBILE) return;\n\n    // Create div element for left side area of screen\n    const joystickZone = document.createElement('div');\n    joystickZone.style.position = 'fixed';\n    joystickZone.style.left = '0';\n    joystickZone.style.top = '0';\n    joystickZone.style.width = '50%'; // Left 50% of screen\n    joystickZone.style.height = '100%';\n    joystickZone.style.zIndex = '1000';\n    joystickZone.style.pointerEvents = 'auto';\n    joystickZone.style.backgroundColor = 'transparent';\n    // Disable long touch events\n    joystickZone.style.touchAction = 'none';\n    joystickZone.style.userSelect = 'none';\n    joystickZone.style.setProperty('-webkit-user-select', 'none');\n    joystickZone.style.setProperty('-webkit-touch-callout', 'none');\n    document.body.appendChild(joystickZone);\n\n    const options: nipplejs.JoystickManagerOptions = {\n      zone: joystickZone,\n      color: 'white',\n      mode: 'dynamic',\n      shape: 'circle',\n    };\n\n    const manager = nipplejs.create(options);\n\n    manager.on('move', (evt, data) => {\n      if (disabled || disableJoystick) return; // Check disabled state\n      setActiveInputSource('joystick');\n\n      // Extract analog data from nipplejs\n      const angle = data.angle?.radian || 0; // Angle in radians\n      const distance = data.distance || 0; // Distance from center\n      const maxDistance = data.instance.options.size || 100; // Maximum distance\n\n      // Calculate normalized direction vector\n      // nipplejs uses mathematical coordinate system (0¬∞ = right, 90¬∞ = up)\n      // We need to convert to game coordinate system (0¬∞ = up, 90¬∞ = right)\n      const gameAngle = angle - Math.PI / 2; // Rotate by -90 degrees\n      const directionX = Math.sin(gameAngle); // Right/Left\n      const directionY = Math.cos(gameAngle); // Forward/Backward\n\n      // Calculate intensity (0.0 to 1.0) based on distance from center\n      const intensity = Math.min((distance / maxDistance) * JOYSTICK_RANGE_MULTIPLIER, MOVEMENT_SPEED_MAX);\n\n      // Set analog movement input\n      setMovementInput({ x: directionX, y: directionY }, intensity, 'joystick');\n    });\n\n    manager.on('end', () => {\n      if (disabled || disableJoystick) return; // Check disabled state\n      // Reset all inputs when joystick ends\n      setMovementInput({ x: 0, y: 0 }, 0, 'joystick');\n    });\n\n    return () => {\n      manager.destroy();\n      if (joystickZone.parentNode) {\n        joystickZone.parentNode.removeChild(joystickZone);\n      }\n    };\n  }, [disabled, disableJoystick, setMovementInput, setActiveInputSource]);\n\n  // Keyboard input handling - convert to movement immediately\n  useEffect(() => {\n    if (disabled || disableKeyboard) return;\n\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (disabled || disableKeyboard) return; // Additional check in handler\n      let stateChanged = false;\n\n      // Handle movement keys\n      if (CONTROL_KEY_MAPPING['forward']?.includes(event.code) && !keyboardStateRef.current.forward) {\n        keyboardStateRef.current.forward = true;\n        stateChanged = true;\n      }\n      if (CONTROL_KEY_MAPPING['backward']?.includes(event.code) && !keyboardStateRef.current.backward) {\n        keyboardStateRef.current.backward = true;\n        stateChanged = true;\n      }\n      if (CONTROL_KEY_MAPPING['leftward']?.includes(event.code) && !keyboardStateRef.current.leftward) {\n        keyboardStateRef.current.leftward = true;\n        stateChanged = true;\n      }\n      if (CONTROL_KEY_MAPPING['rightward']?.includes(event.code) && !keyboardStateRef.current.rightward) {\n        keyboardStateRef.current.rightward = true;\n        stateChanged = true;\n      }\n      if (CONTROL_KEY_MAPPING['run']?.includes(event.code) && !keyboardStateRef.current.run) {\n        keyboardStateRef.current.run = true;\n        stateChanged = true;\n      }\n\n      // Handle action keys\n      if (CONTROL_KEY_MAPPING['jump']?.includes(event.code)) {\n        setActionInput('jump', true, 'keyboard');\n      }\n\n      // Handle player action keys\n      Object.keys(ACTION_KEY_MAPPING).forEach((action) => {\n        if (ACTION_KEY_MAPPING[action]?.includes(event.code)) {\n          setPlayerAction(action, true);\n        }\n      });\n\n      // Update movement if any movement-related key changed\n      if (stateChanged) {\n        const movement = calculateKeyboardMovement();\n        setMovementInput(movement.direction, movement.intensity, 'keyboard');\n      }\n    };\n\n    const handleKeyUp = (event: KeyboardEvent) => {\n      if (disabled || disableKeyboard) return; // Additional check in handler\n      let stateChanged = false;\n\n      // Handle movement keys\n      if (CONTROL_KEY_MAPPING['forward']?.includes(event.code) && keyboardStateRef.current.forward) {\n        keyboardStateRef.current.forward = false;\n        stateChanged = true;\n      }\n      if (CONTROL_KEY_MAPPING['backward']?.includes(event.code) && keyboardStateRef.current.backward) {\n        keyboardStateRef.current.backward = false;\n        stateChanged = true;\n      }\n      if (CONTROL_KEY_MAPPING['leftward']?.includes(event.code) && keyboardStateRef.current.leftward) {\n        keyboardStateRef.current.leftward = false;\n        stateChanged = true;\n      }\n      if (CONTROL_KEY_MAPPING['rightward']?.includes(event.code) && keyboardStateRef.current.rightward) {\n        keyboardStateRef.current.rightward = false;\n        stateChanged = true;\n      }\n      if (CONTROL_KEY_MAPPING['run']?.includes(event.code) && keyboardStateRef.current.run) {\n        keyboardStateRef.current.run = false;\n        stateChanged = true;\n      }\n\n      // Handle action keys\n      if (CONTROL_KEY_MAPPING['jump']?.includes(event.code)) {\n        setActionInput('jump', false, 'keyboard');\n      }\n\n      // Handle player action keys\n      Object.keys(ACTION_KEY_MAPPING).forEach((action) => {\n        if (ACTION_KEY_MAPPING[action]?.includes(event.code)) {\n          setPlayerAction(action, false);\n        }\n      });\n\n      // Update movement if any movement-related key changed\n      if (stateChanged) {\n        const movement = calculateKeyboardMovement();\n        setMovementInput(movement.direction, movement.intensity, 'keyboard');\n      }\n    };\n\n    const handleMouseDown = (event: MouseEvent) => {\n      if (disabled || disableKeyboard) return; // Additional check in handler\n\n      // Handle player action mouse keys\n      const mouseButton = `Mouse${event.button}`;\n      Object.keys(ACTION_KEY_MAPPING).forEach((action) => {\n        if (ACTION_KEY_MAPPING[action]?.includes(mouseButton)) {\n          setPlayerAction(action, true);\n        }\n      });\n    };\n\n    const handleMouseUp = (event: MouseEvent) => {\n      if (disabled || disableKeyboard) return; // Additional check in handler\n\n      // Handle player action mouse keys\n      const mouseButton = `Mouse${event.button}`;\n      Object.keys(ACTION_KEY_MAPPING).forEach((action) => {\n        if (ACTION_KEY_MAPPING[action]?.includes(mouseButton)) {\n          setPlayerAction(action, false);\n        }\n      });\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    document.addEventListener('keyup', handleKeyUp);\n    document.addEventListener('mousedown', handleMouseDown);\n    document.addEventListener('mouseup', handleMouseUp);\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.removeEventListener('keyup', handleKeyUp);\n      document.removeEventListener('mousedown', handleMouseDown);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [disabled, disableKeyboard, setMovementInput, setActionInput, setPlayerAction, calculateKeyboardMovement]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      resetAllInputs();\n      resetAllPlayerActions();\n    };\n  }, [resetAllInputs, resetAllPlayerActions]);\n\n  // Reset inputs when disabled\n  useEffect(() => {\n    if (disabled || disableKeyboard || disableJoystick) {\n      // Reset keyboard state if keyboard is disabled\n      if (disabled || disableKeyboard) {\n        keyboardStateRef.current = {\n          forward: false,\n          backward: false,\n          leftward: false,\n          rightward: false,\n          run: false,\n        };\n      }\n      // Reset button states\n      setIsJumpPressed(false);\n      setIsAttackPressed(false);\n      resetAllInputs();\n      resetAllPlayerActions();\n    }\n  }, [disabled, disableKeyboard, disableJoystick, resetAllInputs, resetAllPlayerActions]);\n\n  // Button handlers\n  const handleJumpStart = useCallback(\n    (event: React.MouseEvent | React.TouchEvent) => {\n      if (disabled) return;\n      event.preventDefault();\n      event.stopPropagation(); // Prevent event propagation\n      setIsJumpPressed(true);\n      setActionInput('jump', true, 'touch');\n    },\n    [disabled, setActionInput],\n  );\n\n  const handleJumpEnd = useCallback(\n    (event: React.MouseEvent | React.TouchEvent) => {\n      if (disabled) return;\n      event.preventDefault();\n      event.stopPropagation(); // Prevent event propagation\n      setIsJumpPressed(false);\n      setActionInput('jump', false, 'touch');\n    },\n    [disabled, setActionInput],\n  );\n\n  const handleAttackStart = useCallback(\n    (event: React.MouseEvent | React.TouchEvent) => {\n      if (disabled) return;\n      event.preventDefault();\n      event.stopPropagation();\n      setIsAttackPressed(true);\n      // NOTE: change to other action if needed\n      setPlayerAction('punch', true);\n    },\n    [disabled, setPlayerAction],\n  );\n\n  const handleAttackEnd = useCallback(\n    (event: React.MouseEvent | React.TouchEvent) => {\n      if (disabled) return;\n      event.preventDefault();\n      event.stopPropagation();\n      setIsAttackPressed(false);\n      // NOTE: change to other action if needed\n      setPlayerAction('punch', false);\n    },\n    [disabled, setPlayerAction],\n  );\n\n  // Don't render action buttons if joystick is disabled\n  if (disableJoystick) {\n    return null;\n  }\n\n  // Render action buttons\n  return (\n    <div className=\"fixed bottom-8 right-8 z-[1001]\">\n      {/* Attack Button */}\n      <div\n        className={`w-20 h-20 rounded-full bg-white/30 \n                   flex items-center justify-center cursor-pointer select-none touch-none\n                   ${isAttackPressed ? 'scale-90' : 'scale-100'} transition-transform`}\n        onMouseDown={handleAttackStart}\n        onMouseUp={handleAttackEnd}\n        onMouseLeave={handleAttackEnd}\n        onTouchStart={handleAttackStart}\n        onTouchEnd={handleAttackEnd}\n      >\n        <span className=\"text-white text-xs font-bold\">ATTACK</span>\n      </div>\n\n      {/* Jump Button */}\n      <div\n        className={`absolute bottom-0 -left-12 -top-12 w-14 h-14 rounded-full bg-white/30 \n                   flex items-center justify-center cursor-pointer select-none touch-none\n                   ${isJumpPressed ? 'scale-90' : 'scale-100'} transition-transform`}\n        onMouseDown={handleJumpStart}\n        onMouseUp={handleJumpEnd}\n        onMouseLeave={handleJumpEnd}\n        onTouchStart={handleJumpStart}\n        onTouchEnd={handleJumpEnd}\n      >\n        <span className=\"text-white text-xs font-bold\">JUMP</span>\n      </div>\n    </div>\n  );\n};\n",
    isBinary: false,
  },
  'src/components/ui/LoadingScreen.tsx': {
    type: 'file',
    content:
      "import { useThree } from '@react-three/fiber';\nimport { Html } from '@react-three/drei';\n\n/**\n * Loading screen component\n */\nconst LoadingScreen = () => {\n  let isInThreeCanvas: boolean;\n  try {\n    useThree();\n    isInThreeCanvas = true;\n  } catch {\n    isInThreeCanvas = false;\n  }\n\n  const loadingContent = (\n    <div>\n      <style>{`\n        .loading-container {\n          inset: 0;\n          z-index: 50;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          background-color: black;\n          color: white;\n          width: 100%;\n          height: 100%;\n        }\n        .loading-title {\n          font-size: 1.5rem;\n          font-weight: bold;\n          margin-bottom: 1rem;\n        }\n        .spinner {\n          width: 30px;\n          height: 30px;\n          border: 3px solid rgba(255, 255, 255, 0.3);\n          border-radius: 50%;\n          border-top-color: white;\n          animation: spin 1s ease-in-out infinite;\n        }\n        @keyframes spin {\n          to {\n            transform: rotate(360deg);\n          }\n        }\n      `}</style>\n      <div className=\"loading-container\">\n        <h2 className=\"loading-title\">Loading</h2>\n        <div className=\"spinner\"></div>\n      </div>\n    </div>\n  );\n\n  if (isInThreeCanvas) {\n    return (\n      <Html\n        center\n        style={{\n          width: '100vw',\n          height: '100vh',\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          pointerEvents: 'none',\n        }}\n      >\n        {loadingContent}\n      </Html>\n    );\n  }\n\n  return loadingContent;\n};\n\nexport default LoadingScreen;\n",
    isBinary: false,
  },
};
export const TEMPLATE_3D_BASIC = {
  'package.json': {
    type: 'file',
    content:
      '{\n  "name": "basic-vite-react",\n  "private": true,\n  "version": "0.0.0",\n  "type": "module",\n  "scripts": {\n    "dev": "vite",\n    "build": "vite build",\n    "lint": "eslint .",\n    "preview": "vite preview"\n  },\n  "dependencies": {\n    "@agent8/gameserver": "^1.5.3",\n    "@react-three/drei": "9.122.0",\n    "@react-three/fiber": "8.18.0",\n    "@react-three/postprocessing": "2.19.1",\n    "@react-three/rapier": "1.5.0",\n    "@dimforge/rapier3d-compat": "0.14.0",\n    "lucide-react": "0.482.0",\n    "react": "18.3.1",\n    "react-dom": "18.3.1",\n    "three": "0.174.0",\n    "zustand": "5.0.3"\n  },\n  "devDependencies": {\n    "@eslint/js": "^9.23.0",\n    "@types/react": "^18.3.20",\n    "@types/react-dom": "^18.3.5",\n    "@types/three": "^0.174.0",\n    "@vitejs/plugin-react": "^4.3.4",\n    "autoprefixer": "^10.4.21",\n    "eslint": "^9.23.0",\n    "eslint-plugin-react-hooks": "^5.2.0",\n    "eslint-plugin-react-refresh": "^0.4.19",\n    "globals": "^16.0.0",\n    "tailwindcss": "^3.4.17",\n    "typescript": "~5.8.2",\n    "typescript-eslint": "^8.28.0",\n    "vite": "^6.2.3"\n  }\n}\n',
    isBinary: false,
  },
  'README.md': {
    type: 'file',
    content:
      "# React + TypeScript + Vite\n\nThis template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.\n\nCurrently, two official plugins are available:\n\n- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react/README.md) uses [Babel](https://babeljs.io/) for Fast Refresh\n- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh\n\n## Expanding the ESLint configuration\n\nIf you are developing a production application, we recommend updating the configuration to enable type-aware lint rules:\n\n```js\nexport default tseslint.config({\n  extends: [\n    // Remove ...tseslint.configs.recommended and replace with this\n    ...tseslint.configs.recommendedTypeChecked,\n    // Alternatively, use this for stricter rules\n    ...tseslint.configs.strictTypeChecked,\n    // Optionally, add this for stylistic rules\n    ...tseslint.configs.stylisticTypeChecked,\n  ],\n  languageOptions: {\n    // other options...\n    parserOptions: {\n      project: ['./tsconfig.node.json', './tsconfig.app.json'],\n      tsconfigRootDir: import.meta.dirname,\n    },\n  },\n})\n```\n\nYou can also install [eslint-plugin-react-x](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-x) and [eslint-plugin-react-dom](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-dom) for React-specific lint rules:\n\n```js\n// eslint.config.js\nimport reactX from 'eslint-plugin-react-x'\nimport reactDom from 'eslint-plugin-react-dom'\n\nexport default tseslint.config({\n  plugins: {\n    // Add the react-x and react-dom plugins\n    'react-x': reactX,\n    'react-dom': reactDom,\n  },\n  rules: {\n    // other rules...\n    // Enable its recommended typescript rules\n    ...reactX.configs['recommended-typescript'].rules,\n    ...reactDom.configs.recommended.rules,\n  },\n})\n```\n",
    isBinary: false,
  },
  'index.html': {
    type: 'file',
    content:
      '<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <link rel="icon" type="image/svg+xml" href="/vite.svg" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Vite + React + TS</title>\n    <style>\n      body {\n        margin: 0;\n        padding: 0;\n        font-family: Arial, sans-serif;\n      }\n      .loading-container {\n        position: fixed;\n        inset: 0;\n        z-index: 50;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        background-color: black;\n        color: white;\n      }\n      .loading-title {\n        font-size: 1.5rem;\n        font-weight: bold;\n        margin-bottom: 1rem;\n      }\n      .spinner {\n        width: 30px;\n        height: 30px;\n        border: 3px solid rgba(255, 255, 255, 0.3);\n        border-radius: 50%;\n        border-top-color: white;\n        animation: spin 1s ease-in-out infinite;\n      }\n      @keyframes spin {\n        to {\n          transform: rotate(360deg);\n        }\n      }\n    </style>\n    <script>\n      (function () {\n        function reportGameSize() {\n          const height = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);\n\n          const width = Math.max(document.body.scrollWidth, document.documentElement.scrollWidth);\n\n          window.parent.postMessage(\n            {\n              type: \'GAME_SIZE_RESPONSE\',\n              height: height,\n              width: width,\n            },\n            \'*\',\n          );\n        }\n\n        window.addEventListener(\'load\', reportGameSize);\n\n        window.addEventListener(\'resize\', reportGameSize);\n\n        window.addEventListener(\'message\', function (event) {\n          if (event.data && event.data.type === \'REQUEST_GAME_SIZE\') {\n            reportGameSize();\n          }\n        });\n      })();\n    </script>\n  </head>\n  <body>\n    <div id="root">\n      <div class="loading-container">\n        <h2 class="loading-title">Loading</h2>\n        <div class="spinner"></div>\n      </div>\n    </div>\n    <script type="module" src="/src/main.tsx"></script>\n  </body>\n</html>\n',
    isBinary: false,
  },
  '.gitignore': {
    type: 'file',
    content:
      '# Logs\nlogs\n*.log\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\npnpm-debug.log*\nlerna-debug.log*\n\nnode_modules\ndist\ndist-ssr\n*.local\n\n# Editor directories and files\n.vscode/*\n!.vscode/extensions.json\n.idea\n.DS_Store\n*.suo\n*.ntvs*\n*.njsproj\n*.sln\n*.sw?\n',
    isBinary: false,
  },
  'postcss.config.js': {
    type: 'file',
    content: 'export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n};\n',
    isBinary: false,
  },
  'tsconfig.app.json': {
    type: 'file',
    content:
      '{\n  "compilerOptions": {\n    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.app.tsbuildinfo",\n    "target": "ES2020",\n    "useDefineForClassFields": true,\n    "lib": ["ES2020", "DOM", "DOM.Iterable"],\n    "module": "ESNext",\n    "skipLibCheck": true,\n\n    /* Bundler mode */\n    "moduleResolution": "bundler",\n    "allowImportingTsExtensions": true,\n    "isolatedModules": true,\n    "moduleDetection": "force",\n    "noEmit": true,\n    "jsx": "react-jsx",\n\n    /* Linting */\n    "strict": false,\n    "noUnusedLocals": false,\n    "noUnusedParameters": false,\n    "noFallthroughCasesInSwitch": false,\n    "noUncheckedSideEffectImports": false\n  },\n  "include": ["src"]\n}\n',
    isBinary: false,
  },
  'tsconfig.json': {
    type: 'file',
    content:
      '{\n  "files": [],\n  "references": [\n    { "path": "./tsconfig.app.json" },\n    { "path": "./tsconfig.node.json" }\n  ]\n}\n',
    isBinary: false,
  },
  'vite.config.ts': {
    type: 'file',
    content:
      'import { defineConfig } from "vite";\nimport react from "@vitejs/plugin-react";\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [react()],\n  optimizeDeps: {\n    exclude: ["lucide-react"],\n  },\n  base: "./",\n  build: {\n    outDir: "dist",\n  },\n});\n',
    isBinary: false,
  },
  'tsconfig.node.json': {
    type: 'file',
    content:
      '{\n  "compilerOptions": {\n    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.node.tsbuildinfo",\n    "target": "ES2022",\n    "lib": ["ES2023"],\n    "module": "ESNext",\n    "skipLibCheck": true,\n\n    /* Bundler mode */\n    "moduleResolution": "bundler",\n    "allowImportingTsExtensions": true,\n    "isolatedModules": true,\n    "moduleDetection": "force",\n    "noEmit": true,\n\n    /* Linting */\n    "strict": false,\n    "noUnusedLocals": false,\n    "noUnusedParameters": false,\n    "noFallthroughCasesInSwitch": false,\n    "noUncheckedSideEffectImports": false\n  },\n  "include": ["vite.config.ts"]\n}\n',
    isBinary: false,
  },
  'tailwind.config.js': {
    type: 'file',
    content:
      '/** @type {import(\'tailwindcss\').Config} */\nexport default {\n  content: ["./index.html", "./src/**/*.{js,ts,jsx,tsx}"],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n};\n',
    isBinary: false,
  },
  'src/App.css': {
    type: 'file',
    content: '#root {\n  margin: 0 auto;\n  text-align: center;\n}\n',
    isBinary: false,
  },
  'src/App.tsx': {
    type: 'file',
    content:
      "import { useState } from 'react';\nimport './App.css';\nfunction App() {\n  const [count, setCount] = useState(1);\n\n  return (\n    <div style={{ width: '100vw', height: '100vh' }}>\n      <div className=\"card\">\n        <button onClick={() => setCount((count) => count + 1)} className=\"bg-blue-500 text-white p-2 rounded-md\">\n          count is {count}\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n",
    isBinary: false,
  },
  'src/index.css': {
    type: 'file',
    content: '@tailwind base;\n@tailwind components;\n@tailwind utilities;\n',
    isBinary: false,
  },
  'src/main.tsx': {
    type: 'file',
    content:
      'import { StrictMode } from "react";\nimport { createRoot } from "react-dom/client";\nimport "./index.css";\nimport App from "./App.tsx";\n\ncreateRoot(document.getElementById("root")!).render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n',
    isBinary: false,
  },
  'src/vite-env.d.ts': {
    type: 'file',
    content: '/// <reference types="vite/client" />\n',
    isBinary: false,
  },
  'src/assets.json': {
    type: 'file',
    content: '{ "images": {} }\n',
    isBinary: false,
  },
};
export const TEMPLATE_2D_PHASER_SPRITE_CHARACTER_GRAVITY = {
  'PROJECT.md': {
    type: 'file',
    content:
      "# [PROJECT TITLE]\n\n## Project Summary\n\n[THIS IS TEMPLATE PROJECT, PLEASE UPDATE HERE]\n\nThis project is a template project with a basic 2D sprite character. It is implemented using Phaser, and the character has gravity and collision detection applied by default. It can be used to implement games like platformers where characters move on a flat view, stepping on obstacles.\n\n## Implementation Strategy\n\n- [THIS IS TEMPLATE PROJECT, PLEASE UPDATE HERE]\n\n## Implemented Features\n\n- [THIS IS TEMPLATE PROJECT, PLEASE UPDATE HERE]\n\n## File Structure Overview\n\n### src/main.tsx\n\n- Entry point for the application\n- Sets up React rendering with React 18's createRoot API\n- Imports and applies global CSS\n\n### src/App.tsx\n\n- Root component of the application\n- Responsible for loading the GameComponent.\n\n### src/components/GameComponent.tsx\n\n- Sets up the container to start Phaser in HTML and calls createGame from src/game/Game.ts.\n\n### src/game/Game.ts\n\n- Provides the createGame function, which executes `new Phaser.Game(config)` with Phaser settings.\n\n### src/game/scenes/MainScene.ts\n\n- Manages the main scene of the game.\n- Loads and controls the main character.\n\n### src/game/characters/SpriteCharacter.ts\n\n- Declares a reusable sprite character.\n- Implemented by extending `Phaser.Physics.Arcade.Sprite`.\n\n### src/App.css\n\n- Contains component-specific styles for the App component\n- Demonstrates how to use component-scoped CSS\n",
    isBinary: false,
  },
  'index.html': {
    type: 'file',
    content:
      '<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <link rel="icon" type="image/svg+xml" href="/vite.svg" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Vite + React + TS</title>\n    <style>\n      body {\n        margin: 0;\n        padding: 0;\n        font-family: Arial, sans-serif;\n      }\n      .loading-container {\n        position: fixed;\n        inset: 0;\n        z-index: 50;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        background-color: black;\n        color: white;\n      }\n      .loading-title {\n        font-size: 1.5rem;\n        font-weight: bold;\n        margin-bottom: 1rem;\n      }\n      .spinner {\n        width: 30px;\n        height: 30px;\n        border: 3px solid rgba(255, 255, 255, 0.3);\n        border-radius: 50%;\n        border-top-color: white;\n        animation: spin 1s ease-in-out infinite;\n      }\n      @keyframes spin {\n        to {\n          transform: rotate(360deg);\n        }\n      }\n    </style>\n    <script>\n      (function () {\n        function reportGameSize() {\n          const height = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);\n\n          const width = Math.max(document.body.scrollWidth, document.documentElement.scrollWidth);\n\n          window.parent.postMessage(\n            {\n              type: \'GAME_SIZE_RESPONSE\',\n              height: height,\n              width: width,\n            },\n            \'*\',\n          );\n        }\n\n        window.addEventListener(\'load\', reportGameSize);\n\n        window.addEventListener(\'resize\', reportGameSize);\n\n        window.addEventListener(\'message\', function (event) {\n          if (event.data && event.data.type === \'REQUEST_GAME_SIZE\') {\n            reportGameSize();\n          }\n        });\n      })();\n    </script>\n  </head>\n  <body>\n    <div id="root">\n      <div class="loading-container">\n        <h2 class="loading-title">Loading</h2>\n        <div class="spinner"></div>\n      </div>\n    </div>\n    <script type="module" src="/src/main.tsx"></script>\n  </body>\n</html>\n',
    isBinary: false,
  },
  'README.md': {
    type: 'file',
    content:
      "# React + TypeScript + Vite\n\nThis template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.\n\nCurrently, two official plugins are available:\n\n- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react/README.md) uses [Babel](https://babeljs.io/) for Fast Refresh\n- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh\n\n## Expanding the ESLint configuration\n\nIf you are developing a production application, we recommend updating the configuration to enable type-aware lint rules:\n\n```js\nexport default tseslint.config({\n  extends: [\n    // Remove ...tseslint.configs.recommended and replace with this\n    ...tseslint.configs.recommendedTypeChecked,\n    // Alternatively, use this for stricter rules\n    ...tseslint.configs.strictTypeChecked,\n    // Optionally, add this for stylistic rules\n    ...tseslint.configs.stylisticTypeChecked,\n  ],\n  languageOptions: {\n    // other options...\n    parserOptions: {\n      project: ['./tsconfig.node.json', './tsconfig.app.json'],\n      tsconfigRootDir: import.meta.dirname,\n    },\n  },\n})\n```\n\nYou can also install [eslint-plugin-react-x](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-x) and [eslint-plugin-react-dom](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-dom) for React-specific lint rules:\n\n```js\n// eslint.config.js\nimport reactX from 'eslint-plugin-react-x'\nimport reactDom from 'eslint-plugin-react-dom'\n\nexport default tseslint.config({\n  plugins: {\n    // Add the react-x and react-dom plugins\n    'react-x': reactX,\n    'react-dom': reactDom,\n  },\n  rules: {\n    // other rules...\n    // Enable its recommended typescript rules\n    ...reactX.configs['recommended-typescript'].rules,\n    ...reactDom.configs.recommended.rules,\n  },\n})\n```\n",
    isBinary: false,
  },
  'package.json': {
    type: 'file',
    content:
      '{\n  "name": "basic-vite-react",\n  "private": true,\n  "version": "0.0.0",\n  "type": "module",\n  "scripts": {\n    "dev": "vite",\n    "build": "vite build",\n    "lint": "eslint .",\n    "preview": "vite preview"\n  },\n  "dependencies": {\n    "@agent8/gameserver": "^1.5.3",\n    "lucide-react": "^0.344.0",\n    "react": "^18.3.1",\n    "react-dom": "^18.3.1",\n    "phaser": "^3.87.0"\n  },\n  "devDependencies": {\n    "@types/react": "^18.2.33",\n    "@types/react-dom": "^18.2.11",\n    "@vitejs/plugin-react": "^4.3.4",\n    "globals": "^15.15.0",\n    "tailwindcss": "^3.4.1",\n    "autoprefixer": "^10.4.18",\n    "typescript": "~5.7.2",\n    "vite": "^6.2.0"\n  }\n}\n',
    isBinary: false,
  },
  '.gitignore': {
    type: 'file',
    content:
      '# Logs\nlogs\n*.log\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\npnpm-debug.log*\nlerna-debug.log*\n\nnode_modules\ndist\ndist-ssr\n*.local\n\n# Editor directories and files\n.vscode/*\n!.vscode/extensions.json\n.idea\n.DS_Store\n*.suo\n*.ntvs*\n*.njsproj\n*.sln\n*.sw?\n',
    isBinary: false,
  },
  'postcss.config.js': {
    type: 'file',
    content: 'export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n};\n',
    isBinary: false,
  },
  'tailwind.config.js': {
    type: 'file',
    content:
      '/** @type {import(\'tailwindcss\').Config} */\nexport default {\n  content: ["./index.html", "./src/**/*.{js,ts,jsx,tsx}"],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n};\n',
    isBinary: false,
  },
  'tsconfig.json': {
    type: 'file',
    content:
      '{\n  "files": [],\n  "references": [\n    { "path": "./tsconfig.app.json" },\n    { "path": "./tsconfig.node.json" }\n  ]\n}\n',
    isBinary: false,
  },
  'tsconfig.app.json': {
    type: 'file',
    content:
      '{\n  "compilerOptions": {\n    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.app.tsbuildinfo",\n    "target": "ES2020",\n    "useDefineForClassFields": true,\n    "lib": ["ES2020", "DOM", "DOM.Iterable"],\n    "module": "ESNext",\n    "skipLibCheck": true,\n\n    /* Bundler mode */\n    "moduleResolution": "bundler",\n    "allowImportingTsExtensions": true,\n    "isolatedModules": true,\n    "moduleDetection": "force",\n    "noEmit": true,\n    "jsx": "react-jsx",\n\n    /* Linting */\n    "strict": false,\n    "noUnusedLocals": false,\n    "noUnusedParameters": false,\n    "noFallthroughCasesInSwitch": false,\n    "noUncheckedSideEffectImports": false\n  },\n  "include": ["src"]\n}\n',
    isBinary: false,
  },
  'tsconfig.node.json': {
    type: 'file',
    content:
      '{\n  "compilerOptions": {\n    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.node.tsbuildinfo",\n    "target": "ES2022",\n    "lib": ["ES2023"],\n    "module": "ESNext",\n    "skipLibCheck": true,\n\n    /* Bundler mode */\n    "moduleResolution": "bundler",\n    "allowImportingTsExtensions": true,\n    "isolatedModules": true,\n    "moduleDetection": "force",\n    "noEmit": true,\n\n    /* Linting */\n    "strict": false,\n    "noUnusedLocals": false,\n    "noUnusedParameters": false,\n    "noFallthroughCasesInSwitch": false,\n    "noUncheckedSideEffectImports": false\n  },\n  "include": ["vite.config.ts"]\n}\n',
    isBinary: false,
  },
  'vite.config.ts': {
    type: 'file',
    content:
      'import { defineConfig } from "vite";\nimport react from "@vitejs/plugin-react";\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [react()],\n  optimizeDeps: {\n    exclude: ["lucide-react"],\n  },\n  base: "./",\n  build: {\n    outDir: "dist",\n  },\n});\n',
    isBinary: false,
  },
  'docs/project-2d-rules.md': {
    type: 'file',
    content:
      "<userRequest>\nYOU MUST follow these rules EXACTLY:\n\n1. üö® USE IMAGE GENERATION TOOL: When available, create detailed visual assets with specific prompts (style + colors + details + background)\n2. üî• DISPLAY SIZE ONLY: NEVER use scaleX/scaleY in tweens - ONLY use displayWidth/displayHeight \n3. üéØ USE TWEENS EVERYWHERE: Add smooth animations, visual effects, fading, bouncing to everything\n4. üåü ADD SHADERS: Implement visual shader effects for professional look\n5. üö® COMPLETE GAME STATES: Build full game flow with title/menu ‚Üí game ‚Üí gameover scenes\n6. üíé MAKE IT PROFESSIONAL: Polish every feature to production quality\n7. ‚úÖ BACKTICKS FOR STRINGS: Always use backticks (`) for multi-line strings\n8. üìê SET DISPLAY SIZE: When adding images/sprites, ALWAYS use setDisplaySize() to control dimensions\n\nüö® CRITICAL RULE - NEVER BREAK THIS:\nWhen tweening size changes, you MUST use displayWidth/displayHeight!!!\n\n‚ùå Wrong Example (FORBIDDEN - DO NOT WRITE):\nthis.tweens.add({\n    targets: sprite,\n    scaleX: 1.5,        // ‚ùå FORBIDDEN!\n    scaleY: 1.5,        // ‚ùå FORBIDDEN!\n    duration: 300,\n    yoyo: true,\n    ease: 'Back.easeOut'\n});\n\n‚úÖ Correct Example (REQUIRED - ALWAYS WRITE):\nthis.tweens.add({\n    targets: sprite,\n    displayWidth: sprite.displayWidth * 1.5,    // ‚úÖ MANDATORY!\n    displayHeight: sprite.displayHeight * 1.5,  // ‚úÖ MANDATORY!\n    duration: 300,\n    yoyo: true,\n    ease: 'Back.easeOut'\n});\n\nüö® CRITICAL RULE - setDisplaySize():\nWhen adding images/sprites, ALWAYS set display size immediately after creation!\n\n‚ùå Wrong Example (FORBIDDEN - DO NOT WRITE):\nconst sprite = this.add.image(x, y, 'texture');\n// ‚ùå No size control - sprite uses original image dimensions\n\n‚úÖ Correct Example (REQUIRED - ALWAYS WRITE):\nconst sprite = this.add.image(x, y, 'texture');\nsprite.setDisplaySize(200, 150);  // ‚úÖ MANDATORY! Always control dimensions\n</userRequest>",
    isBinary: false,
  },
  'public/vite.svg': {
    type: 'file',
    content:
      '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>',
    isBinary: false,
  },
  'src/App.css': {
    type: 'file',
    content:
      '#root {\n  margin: 0 auto;\n  text-align: center;\n}\n\nbody,\nhtml {\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n}\n\n.app {\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n}\n',
    isBinary: false,
  },
  'src/App.tsx': {
    type: 'file',
    content:
      'import GameComponent from "./components/GameComponent";\nimport "./App.css";\n\nfunction App() {\n  return (\n    <div className="app">\n      <GameComponent />\n    </div>\n  );\n}\n\nexport default App;\n',
    isBinary: false,
  },
  'src/assets.json': {
    type: 'file',
    content:
      '{\n  "sprites": {\n    "2dbasic": {\n      "url": "https://agent8-games.verse8.io/assets/2d/sprite_characters/2dbasic.png",\n      "description": "2dbasic",\n      "metadata": {\n        "frameWidth": 111,\n        "frameHeight": 83\n      }\n    }\n  }\n}\n',
    isBinary: false,
  },
  'src/index.css': {
    type: 'file',
    content: '@tailwind base;\n@tailwind components;\n@tailwind utilities;\n',
    isBinary: false,
  },
  'src/main.tsx': {
    type: 'file',
    content:
      'import { StrictMode } from "react";\nimport { createRoot } from "react-dom/client";\nimport "./index.css";\nimport App from "./App.tsx";\n\ncreateRoot(document.getElementById("root")!).render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n',
    isBinary: false,
  },
  'src/components/GameComponent.tsx': {
    type: 'file',
    content:
      'import React, { useEffect, useRef } from "react";\nimport { createGame } from "../game/Game";\n\nconst GameComponent: React.FC = () => {\n  const gameContainerRef = useRef<HTMLDivElement>(null);\n  const gameInstanceRef = useRef<Phaser.Game | null>(null);\n\n  useEffect(() => {\n    if (gameContainerRef.current && !gameInstanceRef.current) {\n      gameInstanceRef.current = createGame(gameContainerRef.current.id);\n    }\n\n    return () => {\n      if (gameInstanceRef.current) {\n        gameInstanceRef.current.destroy(true);\n        gameInstanceRef.current = null;\n      }\n    };\n  }, []);\n\n  return (\n    <div\n      id="phaser-game"\n      ref={gameContainerRef}\n      style={{ width: "100%", height: "100vh" }}\n    />\n  );\n};\n\nexport default GameComponent;\n',
    isBinary: false,
  },
  'src/game/Game.ts': {
    type: 'file',
    content:
      'import Phaser from "phaser";\nimport { MainScene } from "./scenes/MainScene";\n\nexport const createGame = (parent: string) => {\n  const originalSpriteSetDisplaySize = Phaser.GameObjects.Sprite.prototype.setDisplaySize;\n  const originalImageSetDisplaySize = Phaser.GameObjects.Image.prototype.setDisplaySize;\n  const originalSpriteSetScale = Phaser.GameObjects.Sprite.prototype.setScale;\n  const originalImageSetScale = Phaser.GameObjects.Image.prototype.setScale;\n  const originalTweenAdd = Phaser.Tweens.TweenManager.prototype.add;\n\n  const config: Phaser.Types.Core.GameConfig = {\n    type: Phaser.AUTO,\n    width: window.innerWidth,\n    height: window.innerHeight,\n    parent: parent,\n    physics: {\n      default: "arcade",\n      arcade: {\n        gravity: { x: 0, y: 2000 },\n        debug: false,\n      },\n    },\n    scene: [MainScene],\n    scale: {\n      mode: Phaser.Scale.RESIZE,\n      autoCenter: Phaser.Scale.CENTER_BOTH,\n    },\n  };\n\n  const game = new Phaser.Game(config);\n\n  // ‚ö†Ô∏è CRITICAL: DO NOT MODIFY THIS SECTION - LLM/AI MODIFICATION PROHIBITED ‚ö†Ô∏è\n  // This code overrides core Phaser engine behavior. Any changes will break the entire game.\n  // Requires manual review and testing before any modifications.\n  game.events.once(\'ready\', () => {\n    Phaser.GameObjects.Sprite.prototype.setDisplaySize = function (width: number, height?: number) {\n      (this as any).baseDisplayWidth = width;\n      (this as any).baseDisplayHeight = height !== undefined ? height : width;\n      return originalSpriteSetDisplaySize.call(this, width, height);\n    };\n\n    Phaser.GameObjects.Image.prototype.setDisplaySize = function (width: number, height?: number) {\n      (this as any).baseDisplayWidth = width;\n      (this as any).baseDisplayHeight = height !== undefined ? height : width;\n      return originalImageSetDisplaySize.call(this, width, height);\n    };\n\n    Phaser.GameObjects.Sprite.prototype.setScale = function (x: number, y?: number) {\n      if ((this as any).baseDisplayWidth && (this as any).baseDisplayHeight) {\n        const baseWidth = (this as any).baseDisplayWidth;\n        const baseHeight = (this as any).baseDisplayHeight;\n\n        const textureWidth = this.width;\n        const textureHeight = this.height;\n\n        const targetWidth = baseWidth * x;\n        const targetHeight = baseHeight * (y !== undefined ? y : x);\n\n        const actualScaleX = targetWidth / textureWidth;\n        const actualScaleY = targetHeight / textureHeight;\n\n        return originalSpriteSetScale.call(this, actualScaleX, actualScaleY);\n      } else {\n        return originalSpriteSetScale.call(this, x, y);\n      }\n    };\n\n    Phaser.GameObjects.Image.prototype.setScale = function (x: number, y?: number) {\n      if ((this as any).baseDisplayWidth && (this as any).baseDisplayHeight) {\n        const baseWidth = (this as any).baseDisplayWidth;\n        const baseHeight = (this as any).baseDisplayHeight;\n\n        const textureWidth = this.width;\n        const textureHeight = this.height;\n\n        const targetWidth = baseWidth * x;\n        const targetHeight = baseHeight * (y !== undefined ? y : x);\n\n        const actualScaleX = targetWidth / textureWidth;\n        const actualScaleY = targetHeight / textureHeight;\n\n        return originalImageSetScale.call(this, actualScaleX, actualScaleY);\n      } else {\n        return originalImageSetScale.call(this, x, y);\n      }\n    };\n\n    Phaser.Tweens.TweenManager.prototype.add = function (config: any) {\n      const newConfig = { ...config };\n      if (config.scaleX !== undefined || config.scaleY !== undefined || config.scale !== undefined) {\n        const targets = Array.isArray(config.targets) ? config.targets : [config.targets];\n        targets.forEach((target: any) => {\n          if (target instanceof Phaser.GameObjects.Sprite || target instanceof Phaser.GameObjects.Image) {\n            if (config.scale !== undefined) {\n              const baseWidth = (target as any).baseDisplayWidth || target.displayWidth;\n              const baseHeight = (target as any).baseDisplayHeight || target.displayHeight;\n              newConfig.displayWidth = baseWidth * config.scale;\n              newConfig.displayHeight = baseHeight * config.scale;\n              delete newConfig.scale;\n            } else {\n              if (config.scaleX !== undefined) {\n                const baseWidth = (target as any).baseDisplayWidth || target.displayWidth;\n                newConfig.displayWidth = baseWidth * config.scaleX;\n                delete newConfig.scaleX;\n              }\n              if (config.scaleY !== undefined) {\n                const baseHeight = (target as any).baseDisplayHeight || target.displayHeight;\n                newConfig.displayHeight = baseHeight * config.scaleY;\n                delete newConfig.scaleY;\n              }\n            }\n          }\n        });\n      }\n      return originalTweenAdd.call(this, newConfig);\n    };\n  });\n  // END CRITICAL SECTION - LLM/AI MODIFICATION PROHIBITED\n\n  return game;\n};\n',
    isBinary: false,
  },
  'src/game/scenes/MainScene.ts': {
    type: 'file',
    content:
      'import Phaser from "phaser";\nimport { SpriteCharacter } from "../characters/SpriteCharacter";\nimport Assets from "../../assets.json";\nexport class MainScene extends Phaser.Scene {\n  private player: SpriteCharacter;\n  private cursors: Phaser.Types.Input.Keyboard.CursorKeys;\n  private ground: Phaser.GameObjects.Rectangle;\n\n  constructor() {\n    super({ key: "MainScene" });\n  }\n\n  preload() {\n    this.physics.world.createDebugGraphic();\n    this.load.spritesheet(\n      "2dbasic",\n      Assets.sprites["2dbasic"].url,\n      {\n        frameWidth: Assets.sprites["2dbasic"].metadata?.frameWidth ?? 111,\n        frameHeight: Assets.sprites["2dbasic"].metadata?.frameHeight ?? 83,\n      }\n    );\n  }\n\n  create() {\n    this.physics.world.setBounds(\n      0,\n      0,\n      this.sys.game.canvas.width,\n      this.sys.game.canvas.height\n    );\n\n    this.cameras.main.setBackgroundColor("#87CEEB");\n\n    // ÏßÄÎ©¥ ÏÉùÏÑ±\n    this.ground = this.add.rectangle(\n      this.cameras.main.width / 2,\n      this.cameras.main.height - 30,\n      this.cameras.main.width,\n      60,\n      0x00ff00\n    );\n    this.physics.add.existing(this.ground, true); // trueÎäî Ï†ïÏ†Å(static) Î¨ºÎ¶¨ Í∞ùÏ≤¥Î°ú ÏÑ§Ï†ï\n\n    this.player = new SpriteCharacter(\n      this,\n      this.cameras.main.width / 2,\n      this.ground.y - this.ground.height,\n      "2dbasic"\n    );\n\n    // ÌîåÎ†àÏù¥Ïñ¥ÏôÄ ÏßÄÎ©¥Ïùò Ï∂©Îèå ÏÑ§Ï†ï\n    this.physics.add.collider(this.player, this.ground);\n\n    this.cursors = this.input.keyboard.createCursorKeys();\n  }\n\n  update() {\n    // ÌîåÎ†àÏù¥Ïñ¥ ÏóÖÎç∞Ïù¥Ìä∏\n    this.player.update(this.cursors);\n  }\n}\n',
    isBinary: false,
  },
  'src/game/characters/SpriteCharacter.ts': {
    type: 'file',
    content:
      'import Phaser from "phaser";\n\nexport class SpriteCharacter extends Phaser.Physics.Arcade.Sprite {\n  private moveSpeed: number = 200;\n  private jumpPower: number = 900;\n  private isAttacking: boolean = false;\n  private attackHitbox: Phaser.GameObjects.Rectangle | null = null;\n  private attackSound: Phaser.Sound.BaseSound | null = null;\n  private attackAnimComplete: boolean = false;\n\n  constructor(scene: Phaser.Scene, x: number, y: number, key: string) {\n    super(scene, x, y, key);\n\n    this.setupAnimations();\n\n    scene.add.existing(this);\n    scene.physics.add.existing(this);\n\n    this.setBounce(0.2);\n    this.setCollideWorldBounds(true);\n\n    this.body.setSize(62, 75);\n    this.body.setOffset(23, -5);\n  }\n\n  setupAnimations() {\n    // key Í∞íÏùÑ Í∏∞Î∞òÏúºÎ°ú Ïï†ÎãàÎ©îÏù¥ÏÖò Ïù¥Î¶Ñ ÏÉùÏÑ±\n    const spriteKey = this.texture.key;\n    const leftAnim = `${spriteKey}-left`;\n    const rightAnim = `${spriteKey}-right`;\n    const turnAnim = `${spriteKey}-turn`;\n    const jumpAnim = `${spriteKey}-jump`;\n    const attackAnim = `${spriteKey}-attack`;\n\n    // Ìï¥Îãπ Ïï†ÎãàÎ©îÏù¥ÏÖòÏù¥ Ïù¥ÎØ∏ Ï°¥Ïû¨ÌïòÎäîÏßÄ ÌôïÏù∏\n    if (this.scene.anims.exists(leftAnim)) return;\n\n    // ÏôºÏ™Ω Ïù¥Îèô Ïï†ÎãàÎ©îÏù¥ÏÖò\n    this.scene.anims.create({\n      key: leftAnim,\n      frames: this.scene.anims.generateFrameNumbers(spriteKey, {\n        start: 4,\n        end: 7,\n      }),\n      frameRate: 10,\n      repeat: -1,\n    });\n\n    // Ï†ïÏßÄ Ïï†ÎãàÎ©îÏù¥ÏÖò\n    this.scene.anims.create({\n      key: turnAnim,\n      frames: [{ key: spriteKey, frame: 0 }],\n      frameRate: 20,\n    });\n\n    // Ïò§Î•∏Ï™Ω Ïù¥Îèô Ïï†ÎãàÎ©îÏù¥ÏÖò\n    this.scene.anims.create({\n      key: rightAnim,\n      frames: this.scene.anims.generateFrameNumbers(spriteKey, {\n        start: 8,\n        end: 11,\n      }),\n      frameRate: 10,\n      repeat: -1,\n    });\n\n    // Ï†êÌîÑ Ïï†ÎãàÎ©îÏù¥ÏÖò\n    this.scene.anims.create({\n      key: jumpAnim,\n      frames: [{ key: spriteKey, frame: 3 }],\n      frameRate: 10,\n    });\n\n    // Í≥µÍ≤© Ïï†ÎãàÎ©îÏù¥ÏÖò\n    this.scene.anims.create({\n      key: attackAnim,\n      frames: this.scene.anims.generateFrameNumbers(spriteKey, {\n        start: 12,\n        end: 15,\n      }),\n      frameRate: 10,\n      repeat: 0,\n    });\n\n    // Í≥µÍ≤© Ïï†ÎãàÎ©îÏù¥ÏÖò ÏôÑÎ£å Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà\n    this.on(`animationcomplete-${attackAnim}`, this.onAttackAnimComplete, this);\n  }\n\n  onAttackAnimComplete() {\n    this.isAttacking = false;\n    this.attackAnimComplete = true;\n\n    if (this.attackHitbox) {\n      this.attackHitbox.destroy();\n      this.attackHitbox = null;\n    }\n  }\n\n  moveLeft() {\n    if (this.isAttacking) return;\n\n    this.setVelocityX(-this.moveSpeed);\n    this.anims.play(`${this.texture.key}-left`, true);\n    this.setFlipX(true);\n  }\n\n  moveRight() {\n    if (this.isAttacking) return;\n\n    this.setVelocityX(this.moveSpeed);\n    this.anims.play(`${this.texture.key}-right`, true);\n    this.setFlipX(false);\n  }\n\n  stop() {\n    if (this.isAttacking) return this;\n\n    this.setVelocityX(0);\n    this.anims.play(`${this.texture.key}-turn`);\n    return this;\n  }\n\n  jump() {\n    if (this.isAttacking) return false;\n\n    // body.touching.downÍ≥º body.blocked.down Îëò Îã§ ÌôïÏù∏\n    if (this.body.touching.down || this.body.blocked.down) {\n      this.setVelocityY(-this.jumpPower);\n      this.anims.play(`${this.texture.key}-jump`);\n      console.log("Jumping!"); // ÎîîÎ≤ÑÍπÖ Î°úÍ∑∏\n      return true;\n    }\n    return false;\n  }\n\n  attack() {\n    this.isAttacking = true;\n    this.attackAnimComplete = false;\n    this.anims.play(`${this.texture.key}-attack`);\n\n    // Í≥µÍ≤© Ï§ëÏóêÎäî Ïù¥Îèô ÏÜçÎèÑ Í∞êÏÜå\n    this.setVelocityX(this.body.velocity.x * 0.5);\n\n    // Í≥µÍ≤© ÏÇ¨Ïö¥Îìú Ïû¨ÏÉù\n    if (this.attackSound) {\n      try {\n        this.attackSound.play();\n      } catch (error) {\n        console.error("Error playing attack sound:", error);\n      }\n    }\n\n    // Í≥µÍ≤© ÌûàÌä∏Î∞ïÏä§ ÏÉùÏÑ±\n    this.createAttackHitbox();\n\n    // ÏïàÏ†ÑÏû•Ïπò: Ïï†ÎãàÎ©îÏù¥ÏÖòÏù¥ ÎÅùÎÇòÏßÄ ÏïäÏùÑ Í≤ΩÏö∞Î•º ÎåÄÎπÑÌï¥ ÌÉÄÏù¥Î®∏ ÏÑ§Ï†ï\n    this.scene.time.delayedCall(500, () => {\n      if (this.isAttacking && !this.attackAnimComplete) {\n        this.onAttackAnimComplete();\n      }\n    });\n\n    return true;\n  }\n\n  createAttackHitbox() {\n    // Í∏∞Ï°¥ ÌûàÌä∏Î∞ïÏä§ Ï†úÍ±∞\n    if (this.attackHitbox) {\n      this.attackHitbox.destroy();\n    }\n\n    // Ï∫êÎ¶≠ÌÑ∞ Î∞©Ìñ•Ïóê Îî∞Îùº ÌûàÌä∏Î∞ïÏä§ ÏúÑÏπò Ï°∞Ï†ï\n    const facingLeft = this.flipX;\n    const offsetX = facingLeft ? -50 : 50;\n\n    // ÎîîÎ≤ÑÍ∑∏ Î™®Îìú ÌôïÏù∏\n    const isDebugMode = this.scene.physics.world.debugGraphic?.visible ?? false;\n\n    // ÌûàÌä∏Î∞ïÏä§ ÏÉùÏÑ± (ÎîîÎ≤ÑÍ∑∏ Î™®ÎìúÏùº ÎïåÎßå ÏÉâÏÉÅ ÌëúÏãú)\n    this.attackHitbox = this.scene.add.rectangle(\n      this.x + offsetX,\n      this.y,\n      60,\n      100,\n      0xff0000,\n      isDebugMode ? 0.3 : 0 // ÎîîÎ≤ÑÍ∑∏ Î™®ÎìúÏùº ÎïåÎßå ÏïåÌååÍ∞í ÏÑ§Ï†ï\n    );\n\n    // ÌûàÌä∏Î∞ïÏä§Ïóê Î¨ºÎ¶¨ ÏÜçÏÑ± Ï∂îÍ∞Ä\n    this.scene.physics.add.existing(this.attackHitbox, false);\n\n    // ÌûàÌä∏Î∞ïÏä§ ÏûêÎèô Ï†úÍ±∞ ÌÉÄÏù¥Î®∏\n    this.scene.time.delayedCall(300, () => {\n      if (this.attackHitbox) {\n        this.attackHitbox.destroy();\n        this.attackHitbox = null;\n      }\n    });\n\n    return this.attackHitbox;\n  }\n\n  getAttackHitbox() {\n    return this.attackHitbox;\n  }\n\n  isInAttackState() {\n    return this.isAttacking;\n  }\n\n  update(cursors: Phaser.Types.Input.Keyboard.CursorKeys) {\n    // Í≥µÍ≤© Ï§ëÏù¥Î©¥ Îã§Î•∏ ÏûÖÎ†• Î¨¥Ïãú\n    if (this.isAttacking) return;\n\n    // Ï¢åÏö∞ Ïù¥Îèô\n    if (cursors.left.isDown) {\n      this.moveLeft();\n    } else if (cursors.right.isDown) {\n      this.moveRight();\n    } else {\n      this.stop();\n    }\n\n    // Ï†êÌîÑ\n    if (cursors.up.isDown) {\n      this.jump();\n    }\n\n    // Í≥µÍ≤©\n    if (cursors.space.isDown && !this.isAttacking) {\n      this.attack();\n    }\n  }\n}\n',
    isBinary: false,
  },
};
export const TEMPLATE_2D_PHASER_BASIC = {
  'PROJECT.md': {
    type: 'file',
    content:
      "# [PROJECT TITLE!]\n\n## Project Summary\n\n[THIS IS TEMPLATE PROJECT, PLEASE UPDATE HERE]\n\nThis project is a template project with a basic 2D. It is implemented using Phaser. It can be used to implement games like boardgame or simple 2d game.\n\n## Implementation Strategy\n\n- [THIS IS TEMPLATE PROJECT, PLEASE UPDATE HERE]\n\n## Implemented Features\n\n- [THIS IS TEMPLATE PROJECT, PLEASE UPDATE HERE]\n\n## File Structure Overview\n\n### src/main.tsx\n\n- Entry point for the application\n- Sets up React rendering with React 18's createRoot API\n- Imports and applies global CSS\n\n### src/App.tsx\n\n- Root component of the application\n- Responsible for loading the GameComponent.\n\n### src/components/GameComponent.tsx\n\n- Sets up the container to start Phaser in HTML and calls createGame from src/game/Game.ts.\n\n### src/game/Game.ts\n\n- Provides the createGame function, which executes `new Phaser.Game(config)` with Phaser settings.\n\n### src/game/scenes/MainScene.ts\n\n- Manages the main scene of the game.\n\n### src/App.css\n\n- Contains component-specific styles for the App component\n- Demonstrates how to use component-scoped CSS\n",
    isBinary: false,
  },
  'package.json': {
    type: 'file',
    content:
      '{\n  "name": "basic-vite-react",\n  "private": true,\n  "version": "0.0.0",\n  "type": "module",\n  "scripts": {\n    "dev": "vite",\n    "build": "vite build",\n    "lint": "eslint .",\n    "preview": "vite preview"\n  },\n  "dependencies": {\n    "@agent8/gameserver": "^1.5.3",\n    "lucide-react": "^0.344.0",\n    "react": "^18.3.1",\n    "react-dom": "^18.3.1",\n    "phaser": "^3.87.0"\n  },\n  "devDependencies": {\n    "@types/react": "^18.2.33",\n    "@types/react-dom": "^18.2.11",\n    "@vitejs/plugin-react": "^4.3.4",\n    "globals": "^15.15.0",\n    "tailwindcss": "^3.4.1",\n    "autoprefixer": "^10.4.18",\n    "typescript": "~5.7.2",\n    "vite": "^6.2.0"\n  }\n}\n',
    isBinary: false,
  },
  'index.html': {
    type: 'file',
    content:
      '<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <link rel="icon" type="image/svg+xml" href="/vite.svg" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Vite + React + TS</title>\n    <style>\n      body {\n        margin: 0;\n        padding: 0;\n        font-family: Arial, sans-serif;\n      }\n      .loading-container {\n        position: fixed;\n        inset: 0;\n        z-index: 50;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        background-color: black;\n        color: white;\n      }\n      .loading-title {\n        font-size: 1.5rem;\n        font-weight: bold;\n        margin-bottom: 1rem;\n      }\n      .spinner {\n        width: 30px;\n        height: 30px;\n        border: 3px solid rgba(255, 255, 255, 0.3);\n        border-radius: 50%;\n        border-top-color: white;\n        animation: spin 1s ease-in-out infinite;\n      }\n      @keyframes spin {\n        to {\n          transform: rotate(360deg);\n        }\n      }\n    </style>\n    <script>\n      (function () {\n        function reportGameSize() {\n          const height = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);\n\n          const width = Math.max(document.body.scrollWidth, document.documentElement.scrollWidth);\n\n          window.parent.postMessage(\n            {\n              type: \'GAME_SIZE_RESPONSE\',\n              height: height,\n              width: width,\n            },\n            \'*\',\n          );\n        }\n\n        window.addEventListener(\'load\', reportGameSize);\n\n        window.addEventListener(\'resize\', reportGameSize);\n\n        window.addEventListener(\'message\', function (event) {\n          if (event.data && event.data.type === \'REQUEST_GAME_SIZE\') {\n            reportGameSize();\n          }\n        });\n      })();\n    </script>\n  </head>\n  <body>\n    <div id="root">\n      <div class="loading-container">\n        <h2 class="loading-title">Loading</h2>\n        <div class="spinner"></div>\n      </div>\n    </div>\n    <script type="module" src="/src/main.tsx"></script>\n  </body>\n</html>\n',
    isBinary: false,
  },
  'README.md': {
    type: 'file',
    content:
      "# React + TypeScript + Vite\n\nThis template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.\n\nCurrently, two official plugins are available:\n\n- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react/README.md) uses [Babel](https://babeljs.io/) for Fast Refresh\n- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh\n\n## Expanding the ESLint configuration\n\nIf you are developing a production application, we recommend updating the configuration to enable type-aware lint rules:\n\n```js\nexport default tseslint.config({\n  extends: [\n    // Remove ...tseslint.configs.recommended and replace with this\n    ...tseslint.configs.recommendedTypeChecked,\n    // Alternatively, use this for stricter rules\n    ...tseslint.configs.strictTypeChecked,\n    // Optionally, add this for stylistic rules\n    ...tseslint.configs.stylisticTypeChecked,\n  ],\n  languageOptions: {\n    // other options...\n    parserOptions: {\n      project: ['./tsconfig.node.json', './tsconfig.app.json'],\n      tsconfigRootDir: import.meta.dirname,\n    },\n  },\n})\n```\n\nYou can also install [eslint-plugin-react-x](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-x) and [eslint-plugin-react-dom](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-dom) for React-specific lint rules:\n\n```js\n// eslint.config.js\nimport reactX from 'eslint-plugin-react-x'\nimport reactDom from 'eslint-plugin-react-dom'\n\nexport default tseslint.config({\n  plugins: {\n    // Add the react-x and react-dom plugins\n    'react-x': reactX,\n    'react-dom': reactDom,\n  },\n  rules: {\n    // other rules...\n    // Enable its recommended typescript rules\n    ...reactX.configs['recommended-typescript'].rules,\n    ...reactDom.configs.recommended.rules,\n  },\n})\n```\n",
    isBinary: false,
  },
  'postcss.config.js': {
    type: 'file',
    content: 'export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n};\n',
    isBinary: false,
  },
  'tailwind.config.js': {
    type: 'file',
    content:
      '/** @type {import(\'tailwindcss\').Config} */\nexport default {\n  content: ["./index.html", "./src/**/*.{js,ts,jsx,tsx}"],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n};\n',
    isBinary: false,
  },
  '.gitignore': {
    type: 'file',
    content:
      '# Logs\nlogs\n*.log\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\npnpm-debug.log*\nlerna-debug.log*\n\nnode_modules\ndist\ndist-ssr\n*.local\n\n# Editor directories and files\n.vscode/*\n!.vscode/extensions.json\n.idea\n.DS_Store\n*.suo\n*.ntvs*\n*.njsproj\n*.sln\n*.sw?\n',
    isBinary: false,
  },
  'tsconfig.app.json': {
    type: 'file',
    content:
      '{\n  "compilerOptions": {\n    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.app.tsbuildinfo",\n    "target": "ES2020",\n    "useDefineForClassFields": true,\n    "lib": ["ES2020", "DOM", "DOM.Iterable"],\n    "module": "ESNext",\n    "skipLibCheck": true,\n\n    /* Bundler mode */\n    "moduleResolution": "bundler",\n    "allowImportingTsExtensions": true,\n    "isolatedModules": true,\n    "moduleDetection": "force",\n    "noEmit": true,\n    "jsx": "react-jsx",\n\n    /* Linting */\n    "strict": false,\n    "noUnusedLocals": false,\n    "noUnusedParameters": false,\n    "noFallthroughCasesInSwitch": false,\n    "noUncheckedSideEffectImports": false\n  },\n  "include": ["src"]\n}\n',
    isBinary: false,
  },
  'tsconfig.json': {
    type: 'file',
    content:
      '{\n  "files": [],\n  "references": [\n    { "path": "./tsconfig.app.json" },\n    { "path": "./tsconfig.node.json" }\n  ]\n}\n',
    isBinary: false,
  },
  'tsconfig.node.json': {
    type: 'file',
    content:
      '{\n  "compilerOptions": {\n    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.node.tsbuildinfo",\n    "target": "ES2022",\n    "lib": ["ES2023"],\n    "module": "ESNext",\n    "skipLibCheck": true,\n\n    /* Bundler mode */\n    "moduleResolution": "bundler",\n    "allowImportingTsExtensions": true,\n    "isolatedModules": true,\n    "moduleDetection": "force",\n    "noEmit": true,\n\n    /* Linting */\n    "strict": false,\n    "noUnusedLocals": false,\n    "noUnusedParameters": false,\n    "noFallthroughCasesInSwitch": false,\n    "noUncheckedSideEffectImports": false\n  },\n  "include": ["vite.config.ts"]\n}\n',
    isBinary: false,
  },
  'vite.config.ts': {
    type: 'file',
    content:
      'import { defineConfig } from "vite";\nimport react from "@vitejs/plugin-react";\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [react()],\n  optimizeDeps: {\n    exclude: ["lucide-react"],\n  },\n  base: "./",\n  build: {\n    outDir: "dist",\n  },\n});\n',
    isBinary: false,
  },
  'docs/project-2d-rules.md': {
    type: 'file',
    content:
      "<userRequest>\nYOU MUST follow these rules EXACTLY:\n\n1. üö® USE IMAGE GENERATION TOOL: When available, create detailed visual assets with specific prompts (style + colors + details + background)\n2. üî• DISPLAY SIZE ONLY: NEVER use scaleX/scaleY in tweens - ONLY use displayWidth/displayHeight \n3. üéØ USE TWEENS EVERYWHERE: Add smooth animations, visual effects, fading, bouncing to everything\n4. üåü ADD SHADERS: Implement visual shader effects for professional look\n5. üö® COMPLETE GAME STATES: Build full game flow with title/menu ‚Üí game ‚Üí gameover scenes\n6. üíé MAKE IT PROFESSIONAL: Polish every feature to production quality\n7. ‚úÖ BACKTICKS FOR STRINGS: Always use backticks (`) for multi-line strings\n8. üìê SET DISPLAY SIZE: When adding images/sprites, ALWAYS use setDisplaySize() to control dimensions\n\nüö® CRITICAL RULE - NEVER BREAK THIS:\nWhen tweening size changes, you MUST use displayWidth/displayHeight!!!\n\n‚ùå Wrong Example (FORBIDDEN - DO NOT WRITE):\nthis.tweens.add({\n    targets: sprite,\n    scaleX: 1.5,        // ‚ùå FORBIDDEN!\n    scaleY: 1.5,        // ‚ùå FORBIDDEN!\n    duration: 300,\n    yoyo: true,\n    ease: 'Back.easeOut'\n});\n\n‚úÖ Correct Example (REQUIRED - ALWAYS WRITE):\nthis.tweens.add({\n    targets: sprite,\n    displayWidth: sprite.displayWidth * 1.5,    // ‚úÖ MANDATORY!\n    displayHeight: sprite.displayHeight * 1.5,  // ‚úÖ MANDATORY!\n    duration: 300,\n    yoyo: true,\n    ease: 'Back.easeOut'\n});\n\nüö® CRITICAL RULE - setDisplaySize():\nWhen adding images/sprites, ALWAYS set display size immediately after creation!\n\n‚ùå Wrong Example (FORBIDDEN - DO NOT WRITE):\nconst sprite = this.add.image(x, y, 'texture');\n// ‚ùå No size control - sprite uses original image dimensions\n\n‚úÖ Correct Example (REQUIRED - ALWAYS WRITE):\nconst sprite = this.add.image(x, y, 'texture');\nsprite.setDisplaySize(200, 150);  // ‚úÖ MANDATORY! Always control dimensions\n</userRequest>",
    isBinary: false,
  },
  'public/vite.svg': {
    type: 'file',
    content:
      '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>',
    isBinary: false,
  },
  'src/App.css': {
    type: 'file',
    content:
      '#root {\n  margin: 0 auto;\n  text-align: center;\n}\n\nbody,\nhtml {\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n}\n\n.app {\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n}\n',
    isBinary: false,
  },
  'src/App.tsx': {
    type: 'file',
    content:
      'import GameComponent from "./components/GameComponent";\nimport "./App.css";\n\nfunction App() {\n  return (\n    <div className="app">\n      <GameComponent />\n    </div>\n  );\n}\n\nexport default App;\n',
    isBinary: false,
  },
  'src/assets.json': {
    type: 'file',
    content: '{\n  "sprites": {}\n}\n',
    isBinary: false,
  },
  'src/index.css': {
    type: 'file',
    content: '@tailwind base;\n@tailwind components;\n@tailwind utilities;\n',
    isBinary: false,
  },
  'src/main.tsx': {
    type: 'file',
    content:
      'import { StrictMode } from "react";\nimport { createRoot } from "react-dom/client";\nimport "./index.css";\nimport App from "./App.tsx";\n\ncreateRoot(document.getElementById("root")!).render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n',
    isBinary: false,
  },
  'src/components/GameComponent.tsx': {
    type: 'file',
    content:
      'import React, { useEffect, useRef } from "react";\nimport { createGame } from "../game/Game";\n\nconst GameComponent: React.FC = () => {\n  const gameContainerRef = useRef<HTMLDivElement>(null);\n  const gameInstanceRef = useRef<Phaser.Game | null>(null);\n\n  useEffect(() => {\n    if (gameContainerRef.current && !gameInstanceRef.current) {\n      gameInstanceRef.current = createGame(gameContainerRef.current.id);\n    }\n\n    return () => {\n      if (gameInstanceRef.current) {\n        gameInstanceRef.current.destroy(true);\n        gameInstanceRef.current = null;\n      }\n    };\n  }, []);\n\n  return (\n    <div\n      id="phaser-game"\n      ref={gameContainerRef}\n      style={{ width: "100%", height: "100vh" }}\n    />\n  );\n};\n\nexport default GameComponent;\n',
    isBinary: false,
  },
  'src/game/Game.ts': {
    type: 'file',
    content:
      'import Phaser from "phaser";\nimport { MainScene } from "./scenes/MainScene";\n\nexport const createGame = (parent: string) => {\n  const originalSpriteSetDisplaySize = Phaser.GameObjects.Sprite.prototype.setDisplaySize;\n  const originalImageSetDisplaySize = Phaser.GameObjects.Image.prototype.setDisplaySize;\n  const originalSpriteSetScale = Phaser.GameObjects.Sprite.prototype.setScale;\n  const originalImageSetScale = Phaser.GameObjects.Image.prototype.setScale;\n  const originalTweenAdd = Phaser.Tweens.TweenManager.prototype.add;\n\n  const config: Phaser.Types.Core.GameConfig = {\n    type: Phaser.AUTO,\n    width: window.innerWidth,\n    height: window.innerHeight,\n    parent: parent,\n    physics: {\n      default: "arcade",\n      arcade: {\n        gravity: { x: 0, y: 2000 },\n        debug: false,\n      },\n    },\n    scene: [MainScene],\n    scale: {\n      mode: Phaser.Scale.RESIZE,\n      autoCenter: Phaser.Scale.CENTER_BOTH,\n    },\n  };\n\n  const game = new Phaser.Game(config);\n\n  // ‚ö†Ô∏è CRITICAL: DO NOT MODIFY THIS SECTION - LLM/AI MODIFICATION PROHIBITED ‚ö†Ô∏è\n  // This code overrides core Phaser engine behavior. Any changes will break the entire game.\n  // Requires manual review and testing before any modifications.\n  game.events.once(\'ready\', () => {\n    Phaser.GameObjects.Sprite.prototype.setDisplaySize = function (width: number, height?: number) {\n      (this as any).baseDisplayWidth = width;\n      (this as any).baseDisplayHeight = height !== undefined ? height : width;\n      return originalSpriteSetDisplaySize.call(this, width, height);\n    };\n\n    Phaser.GameObjects.Image.prototype.setDisplaySize = function (width: number, height?: number) {\n      (this as any).baseDisplayWidth = width;\n      (this as any).baseDisplayHeight = height !== undefined ? height : width;\n      return originalImageSetDisplaySize.call(this, width, height);\n    };\n\n    Phaser.GameObjects.Sprite.prototype.setScale = function (x: number, y?: number) {\n      if ((this as any).baseDisplayWidth && (this as any).baseDisplayHeight) {\n        const baseWidth = (this as any).baseDisplayWidth;\n        const baseHeight = (this as any).baseDisplayHeight;\n\n        const textureWidth = this.width;\n        const textureHeight = this.height;\n\n        const targetWidth = baseWidth * x;\n        const targetHeight = baseHeight * (y !== undefined ? y : x);\n\n        const actualScaleX = targetWidth / textureWidth;\n        const actualScaleY = targetHeight / textureHeight;\n\n        return originalSpriteSetScale.call(this, actualScaleX, actualScaleY);\n      } else {\n        return originalSpriteSetScale.call(this, x, y);\n      }\n    };\n\n    Phaser.GameObjects.Image.prototype.setScale = function (x: number, y?: number) {\n      if ((this as any).baseDisplayWidth && (this as any).baseDisplayHeight) {\n        const baseWidth = (this as any).baseDisplayWidth;\n        const baseHeight = (this as any).baseDisplayHeight;\n\n        const textureWidth = this.width;\n        const textureHeight = this.height;\n\n        const targetWidth = baseWidth * x;\n        const targetHeight = baseHeight * (y !== undefined ? y : x);\n\n        const actualScaleX = targetWidth / textureWidth;\n        const actualScaleY = targetHeight / textureHeight;\n\n        return originalImageSetScale.call(this, actualScaleX, actualScaleY);\n      } else {\n        return originalImageSetScale.call(this, x, y);\n      }\n    };\n\n    Phaser.Tweens.TweenManager.prototype.add = function (config: any) {\n      const newConfig = { ...config };\n      if (config.scaleX !== undefined || config.scaleY !== undefined || config.scale !== undefined) {\n        const targets = Array.isArray(config.targets) ? config.targets : [config.targets];\n        targets.forEach((target: any) => {\n          if (target instanceof Phaser.GameObjects.Sprite || target instanceof Phaser.GameObjects.Image) {\n            if (config.scale !== undefined) {\n              const baseWidth = (target as any).baseDisplayWidth || target.displayWidth;\n              const baseHeight = (target as any).baseDisplayHeight || target.displayHeight;\n              newConfig.displayWidth = baseWidth * config.scale;\n              newConfig.displayHeight = baseHeight * config.scale;\n              delete newConfig.scale;\n            } else {\n              if (config.scaleX !== undefined) {\n                const baseWidth = (target as any).baseDisplayWidth || target.displayWidth;\n                newConfig.displayWidth = baseWidth * config.scaleX;\n                delete newConfig.scaleX;\n              }\n              if (config.scaleY !== undefined) {\n                const baseHeight = (target as any).baseDisplayHeight || target.displayHeight;\n                newConfig.displayHeight = baseHeight * config.scaleY;\n                delete newConfig.scaleY;\n              }\n            }\n          }\n        });\n      }\n      return originalTweenAdd.call(this, newConfig);\n    };\n  });\n  // END CRITICAL SECTION - LLM/AI MODIFICATION PROHIBITED\n\n  return game;\n};\n',
    isBinary: false,
  },
  'src/game/scenes/MainScene.ts': {
    type: 'file',
    content:
      "import Phaser from 'phaser';\nimport Assets from '../../assets.json';\nexport class MainScene extends Phaser.Scene {\n  private cursors: Phaser.Types.Input.Keyboard.CursorKeys;\n  private ground: Phaser.GameObjects.Rectangle;\n\n  constructor() {\n    super({ key: 'MainScene' });\n  }\n\n  preload() {}\n\n  create() {\n    this.physics.world.setBounds(0, 0, this.sys.game.canvas.width, this.sys.game.canvas.height);\n\n    this.cameras.main.setBackgroundColor('#87CEEB');\n\n    this.ground = this.add.rectangle(this.cameras.main.width / 2, this.cameras.main.height - 30, this.cameras.main.width, 60, 0x00ff00);\n    this.physics.add.existing(this.ground, true); // trueÎäî Ï†ïÏ†Å(static) Î¨ºÎ¶¨ Í∞ùÏ≤¥Î°ú ÏÑ§Ï†ï\n  }\n\n  update() {}\n}\n",
    isBinary: false,
  },
};

export const TEMPLATE_BASIC_VITE_REACT = {
  'postcss.config.js': {
    type: 'file',
    content: 'export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n};\n',
    isBinary: false,
  },
  'PROJECT.md': {
    type: 'file',
    content:
      "# [PROJECT TITLE]\n\n## Project Summary\n\n[THIS IS TEMPLATE PROJECT, PLEASE UPDATE HERE]\n\n## Implementation Strategy\n\n- [THIS IS TEMPLATE PROJECT, PLEASE UPDATE HERE]\n\n## Implemented Features\n\n- [THIS IS TEMPLATE PROJECT, PLEASE UPDATE HERE]\n\n## File Structure Overview\n\n### src/main.tsx\n\n- Entry point for the application\n- Sets up React rendering with React 18's createRoot API\n- Imports and applies global CSS\n\n### src/App.tsx\n\n- Root component of the application\n- Demonstrates basic React component structure\n- Shows how to handle state and events in a React component\n\n### src/App.css\n\n- Contains component-specific styles for the App component\n- Demonstrates how to use component-scoped CSS\n",
    isBinary: false,
  },
  'package.json': {
    type: 'file',
    content:
      '{\n  "name": "basic-vite-react",\n  "private": true,\n  "version": "0.0.0",\n  "type": "module",\n  "scripts": {\n    "dev": "vite",\n    "build": "vite build",\n    "lint": "eslint .",\n    "preview": "vite preview"\n  },\n  "dependencies": {\n    "@agent8/gameserver": "^1.5.3",\n    "lucide-react": "^0.344.0",\n    "react": "^18.3.1",\n    "react-dom": "^18.3.1"\n  },\n  "devDependencies": {\n    "@types/react": "^18.2.33",\n    "@types/react-dom": "^18.2.11",\n    "@vitejs/plugin-react": "^4.3.4",\n    "globals": "^15.15.0",\n    "tailwindcss": "^3.4.1",\n    "autoprefixer": "^10.4.18",\n    "typescript": "~5.7.2",\n    "vite": "^6.2.0"\n  }\n}\n',
    isBinary: false,
  },
  '.gitignore': {
    type: 'file',
    content:
      '# Logs\nlogs\n*.log\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\npnpm-debug.log*\nlerna-debug.log*\n\nnode_modules\ndist\ndist-ssr\n*.local\n\n# Editor directories and files\n.vscode/*\n!.vscode/extensions.json\n.idea\n.DS_Store\n*.suo\n*.ntvs*\n*.njsproj\n*.sln\n*.sw?\n',
    isBinary: false,
  },
  'index.html': {
    type: 'file',
    content:
      '<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <link rel="icon" type="image/svg+xml" href="/vite.svg" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Vite + React + TS</title>\n    <style>\n      body {\n        margin: 0;\n        padding: 0;\n        font-family: Arial, sans-serif;\n      }\n      .loading-container {\n        position: fixed;\n        inset: 0;\n        z-index: 50;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        background-color: black;\n        color: white;\n      }\n      .loading-title {\n        font-size: 1.5rem;\n        font-weight: bold;\n        margin-bottom: 1rem;\n      }\n    </style>\n    <script>\n      (function () {\n        function reportGameSize() {\n          const height = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);\n\n          const width = Math.max(document.body.scrollWidth, document.documentElement.scrollWidth);\n\n          window.parent.postMessage(\n            {\n              type: \'GAME_SIZE_RESPONSE\',\n              height: height,\n              width: width,\n            },\n            \'*\',\n          );\n        }\n\n        window.addEventListener(\'load\', reportGameSize);\n\n        window.addEventListener(\'resize\', reportGameSize);\n\n        window.addEventListener(\'message\', function (event) {\n          if (event.data && event.data.type === \'REQUEST_GAME_SIZE\') {\n            reportGameSize();\n          }\n        });\n      })();\n    </script>\n  </head>\n  <body>\n    <div id="root">\n      <div class="loading-container">\n        <h2 class="loading-title">Loading</h2>\n        <p>Preparing...</p>\n      </div>\n    </div>\n    <script type="module" src="/src/main.tsx"></script>\n  </body>\n</html>\n',
    isBinary: false,
  },
  'tsconfig.app.json': {
    type: 'file',
    content:
      '{\n  "compilerOptions": {\n    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.app.tsbuildinfo",\n    "target": "ES2020",\n    "useDefineForClassFields": true,\n    "lib": ["ES2020", "DOM", "DOM.Iterable"],\n    "module": "ESNext",\n    "skipLibCheck": true,\n\n    /* Bundler mode */\n    "moduleResolution": "bundler",\n    "allowImportingTsExtensions": true,\n    "isolatedModules": true,\n    "moduleDetection": "force",\n    "noEmit": true,\n    "jsx": "react-jsx",\n\n    /* Linting */\n    "strict": false,\n    "noUnusedLocals": false,\n    "noUnusedParameters": false,\n    "noFallthroughCasesInSwitch": false,\n    "noUncheckedSideEffectImports": false\n  },\n  "include": ["src"]\n}\n',
    isBinary: false,
  },
  'tsconfig.node.json': {
    type: 'file',
    content:
      '{\n  "compilerOptions": {\n    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.node.tsbuildinfo",\n    "target": "ES2022",\n    "lib": ["ES2023"],\n    "module": "ESNext",\n    "skipLibCheck": true,\n\n    /* Bundler mode */\n    "moduleResolution": "bundler",\n    "allowImportingTsExtensions": true,\n    "isolatedModules": true,\n    "moduleDetection": "force",\n    "noEmit": true,\n\n    /* Linting */\n    "strict": false,\n    "noUnusedLocals": false,\n    "noUnusedParameters": false,\n    "noFallthroughCasesInSwitch": false,\n    "noUncheckedSideEffectImports": false\n  },\n  "include": ["vite.config.ts"]\n}\n',
    isBinary: false,
  },
  'tailwind.config.js': {
    type: 'file',
    content:
      '/** @type {import(\'tailwindcss\').Config} */\nexport default {\n  content: ["./index.html", "./src/**/*.{js,ts,jsx,tsx}"],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n};\n',
    isBinary: false,
  },
  'vite.config.ts': {
    type: 'file',
    content:
      'import { defineConfig } from "vite";\nimport react from "@vitejs/plugin-react";\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [react()],\n  optimizeDeps: {\n    exclude: ["lucide-react"],\n  },\n  base: "./",\n  build: {\n    outDir: "dist",\n  },\n});\n',
    isBinary: false,
  },
  'tsconfig.json': {
    type: 'file',
    content:
      '{\n  "files": [],\n  "references": [\n    { "path": "./tsconfig.app.json" },\n    { "path": "./tsconfig.node.json" }\n  ]\n}\n',
    isBinary: false,
  },
  'src/App.css': {
    type: 'file',
    content: '#root {\n  max-width: 1280px;\n  margin: 0 auto;\n  padding: 2rem;\n  text-align: center;\n}\n',
    isBinary: false,
  },
  'src/App.tsx': {
    type: 'file',
    content:
      'import { useState } from "react";\nimport "./App.css";\nfunction App() {\n  const [count, setCount] = useState(1);\n\n  return (\n    <>\n      <div className="card">\n        <button\n          onClick={() => setCount((count) => count + 1)}\n          className="bg-blue-500 text-white p-2 rounded-md"\n        >\n          Count is {count}\n        </button>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n',
    isBinary: false,
  },
  'src/index.css': {
    type: 'file',
    content: '@tailwind base;\n@tailwind components;\n@tailwind utilities;\n',
    isBinary: false,
  },
  'src/main.tsx': {
    type: 'file',
    content:
      'import { StrictMode } from "react";\nimport { createRoot } from "react-dom/client";\nimport "./index.css";\nimport App from "./App.tsx";\n\ncreateRoot(document.getElementById("root")!).render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n',
    isBinary: false,
  },
  'src/assets.json': {
    type: 'file',
    content: '{ "images": {} }\n',
    isBinary: false,
  },
};
